{"version":3,"sources":["turbopack:///[project]/lib/demo/categories.ts","turbopack:///[project]/lib/demo/cart.ts"],"sourcesContent":["import type { Collection } from 'lib/shopify/types';\r\n\r\n/**\r\n * Two-level category structure for classifieds\r\n * Based on: https://docs.google.com/spreadsheets/d/1Z8D7fMD_Nyo2BOj6Ua3PYdJI4LTFo5h5q9e3SdDogPc/edit\r\n */\r\n\r\n// Helper function to create handle from name\r\nfunction createHandle(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-+|-+$/g, '');\r\n}\r\n\r\nexport type CategoryStructure = {\r\n  id: string;\r\n  name: string;\r\n  handle: string;\r\n  subcategories?: {\r\n    id: string;\r\n    name: string;\r\n    handle: string;\r\n  }[];\r\n};\r\n\r\nexport const CATEGORY_STRUCTURE: CategoryStructure[] = [\r\n  {\r\n    id: 'furniture',\r\n    name: 'Furniture',\r\n    handle: 'furniture',\r\n    subcategories: [\r\n      { id: 'sofas-couches', name: 'Sofas & Couches', handle: 'sofas-couches' },\r\n      { id: 'armchairs', name: 'Armchairs', handle: 'armchairs' },\r\n      { id: 'recliners', name: 'Recliners', handle: 'recliners' },\r\n      { id: 'sofa-beds', name: 'Sofa Beds', handle: 'sofa-beds' },\r\n      { id: 'living-room-sets', name: 'Living Room Sets', handle: 'living-room-sets' },\r\n      { id: 'tv-stands-media-units', name: 'TV Stands & Media Units', handle: 'tv-stands-media-units' },\r\n      { id: 'coffee-tables', name: 'Coffee Tables', handle: 'coffee-tables' },\r\n      { id: 'side-tables', name: 'Side Tables', handle: 'side-tables' },\r\n      { id: 'dining-tables', name: 'Dining Tables', handle: 'dining-tables' },\r\n      { id: 'dining-chairs', name: 'Dining Chairs', handle: 'dining-chairs' },\r\n      { id: 'dining-sets', name: 'Dining Sets', handle: 'dining-sets' },\r\n      { id: 'beds', name: 'Beds', handle: 'beds' },\r\n      { id: 'mattresses', name: 'Mattresses', handle: 'mattresses' },\r\n      { id: 'bed-frames', name: 'Bed Frames', handle: 'bed-frames' },\r\n      { id: 'wardrobes', name: 'Wardrobes', handle: 'wardrobes' },\r\n      { id: 'dressers-chests', name: 'Dressers & Chests', handle: 'dressers-chests' },\r\n      { id: 'nightstands', name: 'Nightstands', handle: 'nightstands' },\r\n      { id: 'bedroom-sets', name: 'Bedroom Sets', handle: 'bedroom-sets' },\r\n      { id: 'office-desks', name: 'Office Desks', handle: 'office-desks' },\r\n      { id: 'office-chairs', name: 'Office Chairs', handle: 'office-chairs' },\r\n      { id: 'bookcases-shelves', name: 'Bookcases & Shelves', handle: 'bookcases-shelves' },\r\n      { id: 'cabinets-sideboards', name: 'Cabinets & Sideboards', handle: 'cabinets-sideboards' },\r\n      { id: 'shoe-racks', name: 'Shoe Racks', handle: 'shoe-racks' },\r\n      { id: 'storage-units', name: 'Storage Units', handle: 'storage-units' },\r\n      { id: 'kids-furniture', name: 'Kids Furniture', handle: 'kids-furniture' },\r\n      { id: 'outdoor-furniture', name: 'Outdoor Furniture', handle: 'outdoor-furniture' },\r\n      { id: 'garden-tables-chairs', name: 'Garden Tables & Chairs', handle: 'garden-tables-chairs' },\r\n      { id: 'balcony-furniture', name: 'Balcony Furniture', handle: 'balcony-furniture' },\r\n      { id: 'bar-furniture', name: 'Bar Furniture', handle: 'bar-furniture' },\r\n      { id: 'mirrors', name: 'Mirrors', handle: 'mirrors' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'sporting-goods',\r\n    name: 'Sporting Goods',\r\n    handle: 'sporting-goods',\r\n    subcategories: [\r\n      { id: 'scooters-skateboards', name: 'Scooters & Skateboards', handle: 'scooters-skateboards' },\r\n      { id: 'running-athletics', name: 'Running & Athletics', handle: 'running-athletics' },\r\n      { id: 'swimming-water-sports', name: 'Swimming & Water Sports', handle: 'swimming-water-sports' },\r\n      { id: 'diving-snorkeling', name: 'Diving & Snorkeling', handle: 'diving-snorkeling' },\r\n      { id: 'surfing-paddleboarding', name: 'Surfing & Paddleboarding', handle: 'surfing-paddleboarding' },\r\n      { id: 'fishing', name: 'Fishing', handle: 'fishing' },\r\n      { id: 'hunting-archery', name: 'Hunting & Archery', handle: 'hunting-archery' },\r\n      { id: 'outdoor-camping', name: 'Outdoor & Camping', handle: 'outdoor-camping' },\r\n      { id: 'hiking-trekking', name: 'Hiking & Trekking', handle: 'hiking-trekking' },\r\n      { id: 'climbing-mountaineering', name: 'Climbing & Mountaineering', handle: 'climbing-mountaineering' },\r\n      { id: 'winter-sports', name: 'Winter Sports', handle: 'winter-sports' },\r\n      { id: 'skiing', name: 'Skiing', handle: 'skiing' },\r\n      { id: 'snowboarding', name: 'Snowboarding', handle: 'snowboarding' },\r\n      { id: 'golf-equipment', name: 'Golf Equipment', handle: 'golf-equipment' },\r\n      { id: 'equestrian-sports', name: 'Equestrian Sports', handle: 'equestrian-sports' },\r\n      { id: 'motorsports-gear', name: 'Motorsports Gear', handle: 'motorsports-gear' },\r\n      { id: 'accessories-protection', name: 'Accessories & Protection', handle: 'accessories-protection' },\r\n      { id: 'sports-bags', name: 'Sports Bags', handle: 'sports-bags' },\r\n      { id: 'sports-nutrition', name: 'Sports Nutrition', handle: 'sports-nutrition' },\r\n      { id: 'recovery-physiotherapy', name: 'Recovery & Physiotherapy', handle: 'recovery-physiotherapy' },\r\n      { id: 'kids-sports-equipment', name: 'Kids Sports Equipment', handle: 'kids-sports-equipment' },\r\n      { id: 'refurbished-used-equipment', name: 'Refurbished / Used Equipment', handle: 'refurbished-used-equipment' },\r\n      { id: 'professional-commercial-equipment', name: 'Professional / Commercial Equipment', handle: 'professional-commercial-equipment' },\r\n      { id: 'other-sporting-goods', name: 'Other Sporting Goods', handle: 'other-sporting-goods' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'toys',\r\n    name: 'Toys',\r\n    handle: 'toys',\r\n    subcategories: [\r\n      { id: 'baby-toys-0-2-years', name: 'Baby Toys (0–2 years)', handle: 'baby-toys-0-2-years' },\r\n      { id: 'toddler-toys-2-4-years', name: 'Toddler Toys (2–4 years)', handle: 'toddler-toys-2-4-years' },\r\n      { id: 'preschool-toys-4-6-years', name: 'Preschool Toys (4–6 years)', handle: 'preschool-toys-4-6-years' },\r\n      { id: 'educational-learning-toys', name: 'Educational & Learning Toys', handle: 'educational-learning-toys' },\r\n      { id: 'montessori-toys', name: 'Montessori Toys', handle: 'montessori-toys' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'auto-parts',\r\n    name: 'Auto Parts',\r\n    handle: 'auto-parts',\r\n    subcategories: [\r\n      { id: 'engine-parts', name: 'Engine Parts', handle: 'engine-parts' },\r\n      { id: 'body-parts', name: 'Body Parts', handle: 'body-parts' },\r\n      { id: 'interior-parts', name: 'Interior Parts', handle: 'interior-parts' },\r\n      { id: 'tires-wheels', name: 'Tires & Wheels', handle: 'tires-wheels' },\r\n      { id: 'electronics-parts', name: 'Electronics & Parts', handle: 'electronics-parts' },\r\n      { id: 'accessories', name: 'Accessories', handle: 'accessories' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'babies',\r\n    name: 'Babies',\r\n    handle: 'babies',\r\n    subcategories: [\r\n      { id: 'baby-clothing', name: 'Baby Clothing', handle: 'baby-clothing' },\r\n      { id: 'baby-gear', name: 'Baby Gear', handle: 'baby-gear' },\r\n      { id: 'nursery-furniture', name: 'Nursery Furniture', handle: 'nursery-furniture' },\r\n      { id: 'feeding', name: 'Feeding', handle: 'feeding' },\r\n      { id: 'strollers-carriers', name: 'Strollers & Carriers', handle: 'strollers-carriers' },\r\n      { id: 'baby-safety', name: 'Baby Safety', handle: 'baby-safety' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'clothing',\r\n    name: 'Clothing',\r\n    handle: 'clothing',\r\n    subcategories: [\r\n      { id: 'mens-clothing', name: \"Men's Clothing\", handle: 'mens-clothing' },\r\n      { id: 'womens-clothing', name: \"Women's Clothing\", handle: 'womens-clothing' },\r\n      { id: 'kids-clothing', name: \"Kids' Clothing\", handle: 'kids-clothing' },\r\n      { id: 'shoes', name: 'Shoes', handle: 'shoes' },\r\n      { id: 'accessories', name: 'Accessories', handle: 'accessories' },\r\n      { id: 'bags-luggage', name: 'Bags & Luggage', handle: 'bags-luggage' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'electronics',\r\n    name: 'Electronics',\r\n    handle: 'electronics',\r\n    subcategories: [\r\n      { id: 'mobile-phones', name: 'Mobile Phones', handle: 'mobile-phones' },\r\n      { id: 'computers', name: 'Computers & Tablets', handle: 'computers' },\r\n      { id: 'tv-video', name: 'TV, Audio & Video', handle: 'tv-video' },\r\n      { id: 'cameras', name: 'Cameras', handle: 'cameras' },\r\n      { id: 'gaming', name: 'Gaming', handle: 'gaming' },\r\n      { id: 'audio', name: 'Audio Equipment', handle: 'audio' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'home-garden',\r\n    name: 'Home & Garden',\r\n    handle: 'home-garden',\r\n    subcategories: [\r\n      { id: 'home-decor', name: 'Home Decor', handle: 'home-decor' },\r\n      { id: 'kitchen-dining', name: 'Kitchen & Dining', handle: 'kitchen-dining' },\r\n      { id: 'bedding-bath', name: 'Bedding & Bath', handle: 'bedding-bath' },\r\n      { id: 'garden-tools', name: 'Garden Tools', handle: 'garden-tools' },\r\n      { id: 'outdoor-living', name: 'Outdoor Living', handle: 'outdoor-living' },\r\n      { id: 'home-improvement', name: 'Home Improvement', handle: 'home-improvement' }\r\n    ]\r\n  },\r\n  {\r\n    id: 'fashion-beauty',\r\n    name: 'Fashion & Beauty',\r\n    handle: 'fashion-beauty',\r\n    subcategories: [\r\n      { id: 'cosmetics', name: 'Cosmetics', handle: 'cosmetics' },\r\n      { id: 'skincare', name: 'Skincare', handle: 'skincare' },\r\n      { id: 'fragrances', name: 'Fragrances', handle: 'fragrances' },\r\n      { id: 'hair-care', name: 'Hair Care', handle: 'hair-care' },\r\n      { id: 'jewelry', name: 'Jewelry', handle: 'jewelry' },\r\n      { id: 'watches', name: 'Watches', handle: 'watches' }\r\n    ]\r\n  }\r\n];\r\n\r\n// Generate category names mapping for backward compatibility\r\nexport const CATEGORY_NAMES: Record<string, string> = {};\r\n\r\n// Populate CATEGORY_NAMES from CATEGORY_STRUCTURE\r\nCATEGORY_STRUCTURE.forEach(category => {\r\n  CATEGORY_NAMES[category.handle] = category.name;\r\n  category.subcategories?.forEach(sub => {\r\n    CATEGORY_NAMES[sub.handle] = sub.name;\r\n  });\r\n});\r\n\r\n// Generate flat collections list for compatibility\r\nexport const DEMO_COLLECTIONS: Collection[] = CATEGORY_STRUCTURE.flatMap(category => {\r\n  const collections: Collection[] = [];\r\n  \r\n  // Add main category\r\n  collections.push({\r\n    handle: category.handle,\r\n    title: category.name,\r\n    description: `${category.name} category`,\r\n    seo: {\r\n      title: category.name,\r\n      description: `${category.name} category`\r\n    },\r\n    path: `/search/${category.handle}`,\r\n    updatedAt: new Date().toISOString()\r\n  });\r\n  \r\n  // Add subcategories\r\n  if (category.subcategories) {\r\n    category.subcategories.forEach(sub => {\r\n      collections.push({\r\n        handle: sub.handle,\r\n        title: sub.name,\r\n        description: `${sub.name} in ${category.name}`,\r\n        seo: {\r\n          title: sub.name,\r\n          description: `${sub.name} in ${category.name}`\r\n        },\r\n        path: `/search/${category.handle}/${sub.handle}`,\r\n        updatedAt: new Date().toISOString()\r\n      });\r\n    });\r\n  }\r\n  \r\n  return collections;\r\n});\r\n\r\nexport function getCategoryName(handle: string): string {\r\n  return CATEGORY_NAMES[handle] || handle;\r\n}\r\n\r\nexport function getCategoryByHandle(handle: string): CategoryStructure | undefined {\r\n  return CATEGORY_STRUCTURE.find(cat => cat.handle === handle);\r\n}\r\n\r\nexport function getSubcategoryByHandle(categoryHandle: string, subcategoryHandle: string) {\r\n  const category = getCategoryByHandle(categoryHandle);\r\n  return category?.subcategories?.find(sub => sub.handle === subcategoryHandle);\r\n}\r\n\r\nexport function getAllSubcategories(): Array<{ id: string; name: string; handle: string; parentHandle: string }> {\r\n  return CATEGORY_STRUCTURE.flatMap(category =>\r\n    (category.subcategories || []).map(sub => ({\r\n      ...sub,\r\n      parentHandle: category.handle\r\n    }))\r\n  );\r\n}\r\n","import type { Cart, CartItem, Money } from 'lib/shopify/types';\r\nimport { getDemoProduct } from './products';\r\nimport { cookies } from 'next/headers';\r\n\r\n/**\r\n * Демо-реализация функций корзины для работы без Shopify\r\n * Использует cookies для хранения данных корзины\r\n */\r\n\r\n// Хранилище корзин в памяти (для демо)\r\n// В реальном приложении это должно быть в базе данных\r\nconst cartStorage = new Map<string, Cart>();\r\n\r\nfunction createEmptyCart(): Cart {\r\n  const cartId = `demo-cart-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  \r\n  return {\r\n    id: cartId,\r\n    checkoutUrl: `/checkout?cart=${cartId}`,\r\n    cost: {\r\n      subtotalAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      },\r\n      totalAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      },\r\n      totalTaxAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      }\r\n    },\r\n    lines: [],\r\n    totalQuantity: 0\r\n  };\r\n}\r\n\r\nfunction calculateCartTotals(items: CartItem[]): {\r\n  subtotal: string;\r\n  total: string;\r\n  tax: string;\r\n} {\r\n  let subtotal = 0;\r\n  \r\n  items.forEach(item => {\r\n    const price = parseFloat(item.cost.totalAmount.amount);\r\n    subtotal += price;\r\n  });\r\n  \r\n  const tax = subtotal * 0.05; // 5% налог для демо\r\n  const total = subtotal + tax;\r\n  \r\n  return {\r\n    subtotal: subtotal.toFixed(2),\r\n    total: total.toFixed(2),\r\n    tax: tax.toFixed(2)\r\n  };\r\n}\r\n\r\n/**\r\n * Создать новую корзину\r\n */\r\nexport async function createDemoCart(): Promise<Cart> {\r\n  const cart = createEmptyCart();\r\n  cartStorage.set(cart.id!, cart);\r\n  \r\n  const cookieStore = await cookies();\r\n  cookieStore.set('cartId', cart.id!);\r\n  \r\n  return cart;\r\n}\r\n\r\n/**\r\n * Получить корзину по ID\r\n */\r\nexport async function getDemoCart(cartId: string): Promise<Cart | undefined> {\r\n  return cartStorage.get(cartId);\r\n}\r\n\r\n/**\r\n * Добавить товар в корзину\r\n */\r\nexport async function addToDemoCart(\r\n  cartId: string,\r\n  lines: { merchandiseId: string; quantity: number }[],\r\n  deliveryPrice?: number\r\n): Promise<Cart> {\r\n  let cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    cart = createEmptyCart();\r\n    cart.id = cartId;\r\n    cartStorage.set(cartId, cart);\r\n  }\r\n  \r\n  // Добавляем товары в корзину\r\n  for (const line of lines) {\r\n    // Извлекаем handle из merchandiseId (может быть полный ID или handle)\r\n    let handle = line.merchandiseId;\r\n    if (handle.includes('/')) {\r\n      // Если это полный ID типа \"gid://shopify/ProductVariant/handle-variant\"\r\n      const parts = handle.split('/');\r\n      const lastPart = parts[parts.length - 1];\r\n      // Убираем суффикс \"-variant\" если есть\r\n      if (lastPart) {\r\n        handle = lastPart.replace(/-variant$/, '');\r\n      }\r\n    }\r\n    \r\n    const product = getDemoProduct(handle);\r\n    \r\n    if (!product) {\r\n      console.warn(`Product not found for handle: ${handle}`);\r\n      continue;\r\n    }\r\n    \r\n    const variant = product.variants[0];\r\n    if (!variant) {\r\n      console.warn(`No variant found for product: ${handle}`);\r\n      continue;\r\n    }\r\n    \r\n    const existingItem = cart.lines.find(\r\n      item => item.merchandise.id === variant.id\r\n    );\r\n    \r\n    const basePrice = parseFloat(variant.price.amount);\r\n    const deliveryCost = deliveryPrice || 0;\r\n    const itemPriceWithDelivery = basePrice + deliveryCost;\r\n    \r\n    if (existingItem) {\r\n      // Увеличиваем количество\r\n      existingItem.quantity += line.quantity;\r\n      // Пересчитываем цену с учетом доставки\r\n      existingItem.cost.totalAmount.amount = (itemPriceWithDelivery * existingItem.quantity).toFixed(2);\r\n    } else {\r\n      // Добавляем новый товар\r\n      const totalPrice = (itemPriceWithDelivery * line.quantity).toFixed(2);\r\n      \r\n      const cartItem: CartItem = {\r\n        id: `demo-line-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n        quantity: line.quantity,\r\n        cost: {\r\n          totalAmount: {\r\n            amount: totalPrice,\r\n            currencyCode: variant.price.currencyCode\r\n          }\r\n        },\r\n        merchandise: {\r\n          id: variant.id,\r\n          title: variant.title,\r\n          selectedOptions: variant.selectedOptions,\r\n          product: {\r\n            id: product.id,\r\n            handle: product.handle,\r\n            title: product.title,\r\n            featuredImage: product.featuredImage\r\n          }\r\n        }\r\n      };\r\n      \r\n      cart.lines.push(cartItem);\r\n    }\r\n  }\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n/**\r\n * Удалить товар из корзины\r\n */\r\nexport async function removeFromDemoCart(\r\n  cartId: string,\r\n  lineIds: string[]\r\n): Promise<Cart> {\r\n  const cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    throw new Error('Cart not found');\r\n  }\r\n  \r\n  cart.lines = cart.lines.filter(item => !lineIds.includes(item.id || ''));\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n/**\r\n * Обновить корзину\r\n */\r\nexport async function updateDemoCart(\r\n  cartId: string,\r\n  lines: { id: string; merchandiseId: string; quantity: number }[]\r\n): Promise<Cart> {\r\n  const cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    throw new Error('Cart not found');\r\n  }\r\n  \r\n  // Обновляем товары\r\n  for (const line of lines) {\r\n    const item = cart.lines.find(i => i.id === line.id);\r\n    \r\n    if (item) {\r\n      if (line.quantity === 0) {\r\n        // Удаляем товар\r\n        cart.lines = cart.lines.filter(i => i.id !== line.id);\r\n      } else {\r\n        // Обновляем количество\r\n        // Сохраняем цену за единицу (включая доставку) из текущей стоимости\r\n        const currentTotal = parseFloat(item.cost.totalAmount.amount);\r\n        const pricePerUnit = currentTotal / item.quantity;\r\n        item.quantity = line.quantity;\r\n        item.cost.totalAmount.amount = (pricePerUnit * line.quantity).toFixed(2);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n"],"names":[],"mappings":"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"}