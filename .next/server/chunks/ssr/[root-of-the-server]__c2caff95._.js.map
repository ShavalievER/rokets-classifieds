{"version":3,"sources":["turbopack:///[project]/components/classified/product-card.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/components/layout/product-grid-items.tsx","turbopack:///[project]/components/layout/pagination.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/app/search/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/classified/product-card.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/classified/product-card.tsx\",\n    \"default\",\n);\n","import Grid from 'components/grid';\nimport { Product } from 'lib/shopify/types';\nimport ClassifiedProductCard from 'components/classified/product-card';\n\nexport default function ProductGridItems({ products }: { products: Product[] }) {\n  return (\n    <>\n      {products.map((product) => (\n        <Grid.Item key={product.handle} className=\"animate-fadeIn\">\n          <ClassifiedProductCard product={product} />\n        </Grid.Item>\n      ))}\n    </>\n  );\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/layout/pagination.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/pagination.tsx\",\n    \"default\",\n);\n","import Grid from 'components/grid';\nimport ProductGridItems from 'components/layout/product-grid-items';\nimport Pagination from 'components/layout/pagination';\nimport { defaultSort, sorting } from 'lib/constants';\nimport { getProducts } from 'lib/shopify';\nimport { Suspense } from 'react';\n\nexport const metadata = {\n  title: 'Search',\n  description: 'Search for products in the store.'\n};\n\nconst ITEMS_PER_PAGE = 24;\n\nexport default async function SearchPage(props: {\n  searchParams?: Promise<{ [key: string]: string | string[] | undefined }>;\n}) {\n  const searchParams = await props.searchParams;\n  const { sort, q: searchValue, page } = searchParams as { [key: string]: string };\n  const { sortKey, reverse } = sorting.find((item) => item.slug === sort) || defaultSort;\n\n  // Get current page (default to 1)\n  const currentPage = page ? parseInt(page, 10) : 1;\n  const validPage = currentPage > 0 && !isNaN(currentPage) ? currentPage : 1;\n\n  // Get all products\n  const allProducts = await getProducts({ sortKey, reverse, query: searchValue });\n  \n  // Calculate pagination\n  const totalItems = allProducts.length;\n  const totalPages = Math.max(1, Math.ceil(totalItems / ITEMS_PER_PAGE));\n  \n  // Ensure valid page is within bounds\n  const finalPage = Math.min(Math.max(1, validPage), totalPages);\n  \n  const startIndex = (finalPage - 1) * ITEMS_PER_PAGE;\n  const endIndex = startIndex + ITEMS_PER_PAGE;\n  const paginatedProducts = allProducts.slice(startIndex, endIndex);\n\n  const resultsText = totalItems !== 1 ? 'results' : 'result';\n\n  return (\n    <>\n      {/* Header */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-neutral-900 dark:text-white\">\n          {searchValue ? `Search Results` : 'All Categories'}\n        </h1>\n        {searchValue ? (\n          <p className=\"mt-2 text-sm text-neutral-500 dark:text-neutral-400\">\n            {totalItems === 0\n              ? `No results found for \"${searchValue}\"`\n              : `${totalItems} ${resultsText} found for \"${searchValue}\"`}\n          </p>\n        ) : (\n          <p className=\"mt-2 text-sm text-neutral-500 dark:text-neutral-400\">\n            {totalItems} {totalItems !== 1 ? 'listings' : 'listing'} available\n          </p>\n        )}\n      </div>\n\n      {/* Products Grid */}\n      {paginatedProducts.length > 0 ? (\n        <>\n          <Grid className=\"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n            <ProductGridItems products={paginatedProducts} />\n          </Grid>\n          \n          {/* Pagination */}\n          <Suspense fallback={null}>\n            <Pagination\n              currentPage={finalPage}\n              totalPages={totalPages}\n              totalItems={totalItems}\n              itemsPerPage={ITEMS_PER_PAGE}\n            />\n          </Suspense>\n        </>\n      ) : (\n        <div className=\"py-12 text-center\">\n          <p className=\"text-lg text-neutral-600 dark:text-neutral-400\">No listings found</p>\n          <p className=\"mt-2 text-sm text-neutral-500 dark:text-neutral-500\">\n            {searchValue\n              ? 'Try adjusting your search terms'\n              : 'Try adjusting your filters or browse categories'}\n          </p>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2]}