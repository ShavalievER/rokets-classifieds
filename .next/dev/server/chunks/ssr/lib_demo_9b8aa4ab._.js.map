{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/demo/products.ts"],"sourcesContent":["import type { Product, Image, ProductVariant, ProductOption } from 'lib/shopify/types';\r\n\r\n// Product to category and subcategory mapping\r\n// Using new category structure from Google Sheets: https://docs.google.com/spreadsheets/d/1Z8D7fMD_Nyo2BOj6Ua3PYdJI4LTFo5h5q9e3SdDogPc/edit\r\nconst PRODUCT_CATEGORIES: Record<string, { category: string; subcategory?: string; location: string }> = {\r\n  // Furniture - Sofas & Couches\r\n  'sofa-modern': { category: 'furniture', subcategory: 'sofas-couches', location: 'Dubai' },\r\n  \r\n  // Furniture - Dining Tables\r\n  'dining-table': { category: 'furniture', subcategory: 'dining-tables', location: 'Abu Dhabi' },\r\n  \r\n  // Furniture - Office Chairs\r\n  'office-chair': { category: 'furniture', subcategory: 'office-chairs', location: 'Sharjah' },\r\n  \r\n  // Toys - Educational & Learning Toys\r\n  'lego-set': { category: 'toys', subcategory: 'educational-learning-toys', location: 'Ajman' },\r\n  \r\n  // Toys - Preschool Toys\r\n  'doll-house': { category: 'toys', subcategory: 'preschool-toys-4-6-years', location: 'RAK' },\r\n  \r\n  // Toys - Toddler Toys\r\n  'bicycle-kids': { category: 'toys', subcategory: 'toddler-toys-2-4-years', location: 'Dubai' }\r\n  \r\n  // Note: Products below (Electronics, Auto Parts) are temporarily without categories\r\n  // as they don't appear in the visible portion of the Google Sheets.\r\n  // They will be filtered out or can be added to categories when full sheet data is available.\r\n};\r\n\r\n/**\r\n * Demo product data for working without Shopify\r\n * Based on sellers from listing-sellers.ts\r\n */\r\n\r\nconst createImage = (url: string, alt: string = ''): Image => ({\r\n  url,\r\n  altText: alt,\r\n  width: 800,\r\n  height: 800\r\n});\r\n\r\nconst createVariant = (\r\n  id: string,\r\n  title: string,\r\n  price: string,\r\n  available: boolean = true\r\n): ProductVariant => ({\r\n  id,\r\n  title,\r\n  availableForSale: available,\r\n  selectedOptions: [],\r\n  price: {\r\n    amount: price,\r\n    currencyCode: 'AED'\r\n  }\r\n});\r\n\r\nconst createProduct = (\r\n  handle: string,\r\n  title: string,\r\n  description: string,\r\n  price: string,\r\n  imageUrl: string,\r\n  sellerLocation: string,\r\n  additionalImageQueries?: string[]\r\n): Product => {\r\n  const variantId = `gid://shopify/ProductVariant/${handle}-variant`;\r\n  const productId = `gid://shopify/Product/${handle}`;\r\n  \r\n  // Create additional images with different views\r\n  const additionalImages = additionalImageQueries \r\n    ? additionalImageQueries.map((query, index) => {\r\n        // If query is already a full URL, use it; otherwise use it as-is\r\n        const url = query.startsWith('http') ? query : query;\r\n        return createImage(url, `${title} - View ${index + 1}`);\r\n      })\r\n    : [\r\n        createImage(imageUrl, `${title} - View 1`),\r\n        createImage(imageUrl, `${title} - View 2`)\r\n      ];\r\n  \r\n  return {\r\n    id: productId,\r\n    handle,\r\n    availableForSale: true,\r\n    title,\r\n    description,\r\n    descriptionHtml: `<p>${description}</p>`,\r\n    options: [\r\n      {\r\n        id: `${productId}-option`,\r\n        name: 'Size',\r\n        values: ['Default']\r\n      }\r\n    ] as ProductOption[],\r\n    priceRange: {\r\n      maxVariantPrice: {\r\n        amount: price,\r\n        currencyCode: 'AED'\r\n      },\r\n      minVariantPrice: {\r\n        amount: price,\r\n        currencyCode: 'AED'\r\n      }\r\n    },\r\n    variants: [createVariant(variantId, 'Default', price)],\r\n    featuredImage: createImage(imageUrl, title),\r\n    images: (() => {\r\n      // Create unique images array, removing duplicates\r\n      const allImages = [\r\n        createImage(imageUrl, `${title} - Main`),\r\n        ...additionalImages\r\n      ];\r\n      const uniqueImages: Image[] = [];\r\n      const seenUrls = new Set<string>();\r\n      \r\n      for (const img of allImages) {\r\n        if (!seenUrls.has(img.url)) {\r\n          seenUrls.add(img.url);\r\n          uniqueImages.push(img);\r\n        }\r\n      }\r\n      \r\n      return uniqueImages;\r\n    })(),\r\n    seo: {\r\n      title: `${title} | Next.js Commerce`,\r\n      description\r\n    },\r\n    tags: [\r\n      PRODUCT_CATEGORIES[handle]?.category || '',\r\n      PRODUCT_CATEGORIES[handle]?.subcategory || '',\r\n      PRODUCT_CATEGORIES[handle]?.location || ''\r\n    ].filter(Boolean),\r\n    // Store metadata for filtering\r\n    metafields: [\r\n      {\r\n        id: `${productId}-category`,\r\n        namespace: 'custom',\r\n        key: 'category',\r\n        value: PRODUCT_CATEGORIES[handle]?.category || '',\r\n        type: 'single_line_text_field'\r\n      },\r\n      {\r\n        id: `${productId}-subcategory`,\r\n        namespace: 'custom',\r\n        key: 'subcategory',\r\n        value: PRODUCT_CATEGORIES[handle]?.subcategory || '',\r\n        type: 'single_line_text_field'\r\n      },\r\n      {\r\n        id: `${productId}-sellerLocation`,\r\n        namespace: 'custom',\r\n        key: 'sellerLocation',\r\n        value: PRODUCT_CATEGORIES[handle]?.location || sellerLocation,\r\n        type: 'single_line_text_field'\r\n      }\r\n    ],\r\n    updatedAt: new Date().toISOString()\r\n  };\r\n};\r\n\r\n// Demo products for classifieds, distributed by categories\r\n// Using Pexels images for realistic product photos (more reliable than Unsplash)\r\nexport const DEMO_PRODUCTS: Product[] = [\r\n  // Clothing\r\n  createProduct(\r\n    'winter-jacket-mens',\r\n    'Men\\'s Winter Jacket',\r\n    'Warm winter jacket in excellent condition. Size L.',\r\n    '450.00',\r\n    'https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Dubai',\r\n    [\r\n      'https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/6311392/pexels-photo-6311392.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'designer-dress',\r\n    'Designer Dress',\r\n    'Elegant dress, worn once. Size M.',\r\n    '350.00',\r\n    'https://images.pexels.com/photos/985635/pexels-photo-985635.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Abu Dhabi',\r\n    [\r\n      'https://images.pexels.com/photos/985635/pexels-photo-985635.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'sneakers-nike',\r\n    'Nike Sneakers',\r\n    'Nike sneakers in good condition. Size 42.',\r\n    '280.00',\r\n    'https://images.pexels.com/photos/1598505/pexels-photo-1598505.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Sharjah',\r\n    [\r\n      'https://images.pexels.com/photos/1598505/pexels-photo-1598505.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1464625/pexels-photo-1464625.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  \r\n  // Kids Toys\r\n  createProduct(\r\n    'lego-set',\r\n    'LEGO Set',\r\n    'Large LEGO set with all pieces included. For children 6+ years.',\r\n    '150.00',\r\n    'https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Ajman',\r\n    [\r\n      'https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1606312619150-4c643af16b2e/pexels-photo-1606312619150-4c643af16b2e.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'doll-house',\r\n    'Doll House',\r\n    'Beautiful doll house with furniture. In excellent condition.',\r\n    '200.00',\r\n    'https://images.pexels.com/photos/1606312619070-df48d6a8e480/pexels-photo-1606312619070-df48d6a8e480.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'RAK',\r\n    [\r\n      'https://images.pexels.com/photos/1606312619070-df48d6a8e480/pexels-photo-1606312619070-df48d6a8e480.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'bicycle-kids',\r\n    'Kids Bicycle',\r\n    'Children\\'s bicycle suitable for ages 5-8. Good condition.',\r\n    '180.00',\r\n    'https://images.pexels.com/photos/2909077/pexels-photo-2909077.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Dubai',\r\n    [\r\n      'https://images.pexels.com/photos/2909077/pexels-photo-2909077.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/2909077/pexels-photo-2909077.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop&q=80'\r\n    ]\r\n  ),\r\n  \r\n  // Furniture\r\n  createProduct(\r\n    'sofa-modern',\r\n    'Modern Sofa',\r\n    'Comfortable sofa in excellent condition. Perfect for living room.',\r\n    '1200.00',\r\n    'https://images.pexels.com/photos/1866149/pexels-photo-1866149.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Dubai',\r\n    [\r\n      'https://images.pexels.com/photos/1866149/pexels-photo-1866149.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1350789/pexels-photo-1350789.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'dining-table',\r\n    'Dining Table',\r\n    'Wooden dining table for 6 people. Classic design.',\r\n    '800.00',\r\n    'https://images.pexels.com/photos/1350789/pexels-photo-1350789.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Abu Dhabi',\r\n    [\r\n      'https://images.pexels.com/photos/1350789/pexels-photo-1350789.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1350789/pexels-photo-1350789.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop&q=80'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'office-chair',\r\n    'Office Chair',\r\n    'Ergonomic office chair. Excellent condition.',\r\n    '350.00',\r\n    'https://images.pexels.com/photos/2762247/pexels-photo-2762247.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Sharjah',\r\n    [\r\n      'https://images.pexels.com/photos/2762247/pexels-photo-2762247.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/2762247/pexels-photo-2762247.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop&q=80'\r\n    ]\r\n  ),\r\n  \r\n  // Electronics\r\n  createProduct(\r\n    'laptop-macbook',\r\n    'MacBook Pro',\r\n    'MacBook Pro 13\", 2020. In excellent condition, everything works.',\r\n    '2500.00',\r\n    'https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Ajman',\r\n    [\r\n      'https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1181244/pexels-photo-1181244.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'iphone-12',\r\n    'iPhone 12',\r\n    'iPhone 12, 128GB. Excellent condition, all accessories included.',\r\n    '1800.00',\r\n    'https://images.pexels.com/photos/788946/pexels-photo-788946.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'RAK',\r\n    [\r\n      'https://images.pexels.com/photos/788946/pexels-photo-788946.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/788946/pexels-photo-788946.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop&q=80'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'tv-samsung',\r\n    'Samsung TV',\r\n    'Samsung Smart TV 55\", 4K. In excellent condition.',\r\n    '2200.00',\r\n    'https://images.pexels.com/photos/1571458/pexels-photo-1571458.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Dubai',\r\n    [\r\n      'https://images.pexels.com/photos/1571458/pexels-photo-1571458.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/1522869636450-0fe4ec6fa804/pexels-photo-1522869636450-0fe4ec6fa804.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  \r\n  // Auto Parts\r\n  createProduct(\r\n    'car-battery',\r\n    'Car Battery',\r\n    'New car battery 12V 60Ah. Suitable for most passenger cars.',\r\n    '350.00',\r\n    'https://images.pexels.com/photos/3802508/pexels-photo-3802508.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Dubai',\r\n    [\r\n      'https://images.pexels.com/photos/3802508/pexels-photo-3802508.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/163945/pexels-photo-163945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'tires-set',\r\n    'Tire Set',\r\n    'Set of tires 205/55 R16. Tread remaining 70%.',\r\n    '600.00',\r\n    'https://images.pexels.com/photos/163945/pexels-photo-163945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Abu Dhabi',\r\n    [\r\n      'https://images.pexels.com/photos/163945/pexels-photo-163945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/163945/pexels-photo-163945.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop&q=80'\r\n    ]\r\n  ),\r\n  createProduct(\r\n    'headlights-led',\r\n    'LED Headlights',\r\n    'LED headlights for Toyota Camry. New, in original packaging.',\r\n    '450.00',\r\n    'https://images.pexels.com/photos/1549317661-b28c40b685ca/pexels-photo-1549317661-b28c40b685ca.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n    'Sharjah',\r\n    [\r\n      'https://images.pexels.com/photos/1549317661-b28c40b685ca/pexels-photo-1549317661-b28c40b685ca.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop',\r\n      'https://images.pexels.com/photos/3802508/pexels-photo-3802508.jpeg?auto=compress&cs=tinysrgb&w=800&h=800&fit=crop'\r\n    ]\r\n  )\r\n];\r\n\r\n/**\r\n * Get product by handle\r\n */\r\nexport function getDemoProduct(handle: string): Product | undefined {\r\n  return DEMO_PRODUCTS.find(p => p.handle === handle);\r\n}\r\n\r\n/**\r\n * Get all demo products\r\n */\r\nexport function getDemoProducts(): Product[] {\r\n  return DEMO_PRODUCTS;\r\n}\r\n\r\n/**\r\n * Get products for collection (demo) with optional filters\r\n */\r\nexport function getDemoCollectionProducts(\r\n  collection: string, \r\n  filters?: {\r\n    subcategory?: string;\r\n    minPrice?: string;\r\n    maxPrice?: string;\r\n    keywords?: string;\r\n    location?: string;\r\n  }\r\n): Product[] {\r\n  // Special collections for homepage\r\n  if (collection === 'hidden-homepage-featured-items') {\r\n    return DEMO_PRODUCTS.slice(0, 3);\r\n  }\r\n  if (collection === 'hidden-homepage-carousel') {\r\n    return DEMO_PRODUCTS.slice(0, 5);\r\n  }\r\n  \r\n  let products = DEMO_PRODUCTS;\r\n  \r\n  // Filter by category or subcategory\r\n  // Check if collection is a main category or subcategory\r\n  const isMainCategory = Object.values(PRODUCT_CATEGORIES).some(\r\n    info => info.category === collection\r\n  );\r\n  const isSubcategory = Object.values(PRODUCT_CATEGORIES).some(\r\n    info => info.subcategory === collection\r\n  );\r\n  \r\n  if (isSubcategory) {\r\n    // Filter by subcategory\r\n    products = products.filter(p => {\r\n      const productInfo = PRODUCT_CATEGORIES[p.handle];\r\n      return productInfo?.subcategory === collection;\r\n    });\r\n  } else if (isMainCategory) {\r\n    // Filter by main category\r\n    products = products.filter(p => {\r\n      const productInfo = PRODUCT_CATEGORIES[p.handle];\r\n      return productInfo?.category === collection;\r\n    });\r\n  } else if (collection && collection !== 'hidden-homepage-featured-items' && collection !== 'hidden-homepage-carousel') {\r\n    // If collection doesn't match any category, return empty or all products\r\n    // For now, return all products if collection doesn't match\r\n    products = DEMO_PRODUCTS;\r\n  }\r\n  \r\n  // Apply additional filters\r\n  if (filters) {\r\n    if (filters.subcategory) {\r\n      products = products.filter(p => {\r\n        const productInfo = PRODUCT_CATEGORIES[p.handle];\r\n        return productInfo?.subcategory === filters.subcategory;\r\n      });\r\n    }\r\n    \r\n    if (filters.minPrice || filters.maxPrice) {\r\n      products = products.filter(p => {\r\n        const price = parseFloat(p.priceRange.maxVariantPrice.amount);\r\n        if (filters.minPrice && price < parseFloat(filters.minPrice)) return false;\r\n        if (filters.maxPrice && price > parseFloat(filters.maxPrice)) return false;\r\n        return true;\r\n      });\r\n    }\r\n    \r\n    if (filters.keywords) {\r\n      const keywordLower = filters.keywords.toLowerCase();\r\n      products = products.filter(p => \r\n        p.title.toLowerCase().includes(keywordLower) ||\r\n        p.description.toLowerCase().includes(keywordLower)\r\n      );\r\n    }\r\n    \r\n    if (filters.location) {\r\n      products = products.filter(p => {\r\n        const productInfo = PRODUCT_CATEGORIES[p.handle];\r\n        return productInfo?.location === filters.location;\r\n      });\r\n    }\r\n  }\r\n  \r\n  return products;\r\n}\r\n\r\n/**\r\n * Get product recommendations (demo)\r\n */\r\nexport function getDemoProductRecommendations(productId: string): Product[] {\r\n  // Return random products excluding current one\r\n  const currentProduct = DEMO_PRODUCTS.find(p => p.id === productId);\r\n  if (!currentProduct) return DEMO_PRODUCTS.slice(0, 4);\r\n  \r\n  return DEMO_PRODUCTS\r\n    .filter(p => p.id !== productId)\r\n    .slice(0, 4);\r\n}\r\n\r\n"],"names":[],"mappings":"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CACA,UACA,mHACA,aACA;QACE;QACA;KACD;IAEH,cACE,iBACA,iBACA,6CACA,UACA,qHACA,WACA;QACE;QACA;KACD;IAGH,YAAY;IACZ,cACE,YACA,YACA,mEACA,UACA,iIACA,SACA;QACE;QACA;KACD;IAEH,cACE,cACA,cACA,gEACA,UACA,2JACA,OACA;QACE;QACA;KACD;IAEH,cACE,gBACA,gBACA,8DACA,UACA,qHACA,SACA;QACE;QACA;KACD;IAGH,YAAY;IACZ,cACE,eACA,eACA,qEACA,WACA,qHACA,SACA;QACE;QACA;KACD;IAEH,cACE,gBACA,gBACA,qDACA,UACA,qHACA,aACA;QACE;QACA;KACD;IAEH,cACE,gBACA,gBACA,gDACA,UACA,qHACA,WACA;QACE;QACA;KACD;IAGH,cAAc;IACd,cACE,kBACA,eACA,oEACA,WACA,0GACA,SACA;QACE;QACA;KACD;IAEH,cACE,aACA,aACA,oEACA,WACA,mHACA,OACA;QACE;QACA;KACD;IAEH,cACE,cACA,cACA,qDACA,WACA,qHACA,SACA;QACE;QACA;KACD;IAGH,aAAa;IACb,cACE,eACA,eACA,+DACA,UACA,qHACA,SACA;QACE;QACA;KACD;IAEH,cACE,aACA,YACA,iDACA,UACA,mHACA,aACA;QACE;QACA;KACD;IAEH,cACE,kBACA,kBACA,gEACA,UACA,qJACA,WACA;QACE;QACA;KACD;CAEJ;AAKM,SAAS,eAAe,MAAc;IAC3C,OAAO,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;AAC9C;AAKO,SAAS;IACd,OAAO;AACT;AAKO,SAAS,0BACd,UAAkB,EAClB,OAMC;IAED,mCAAmC;IACnC,IAAI,eAAe,kCAAkC;QACnD,OAAO,cAAc,KAAK,CAAC,GAAG;IAChC;IACA,IAAI,eAAe,4BAA4B;QAC7C,OAAO,cAAc,KAAK,CAAC,GAAG;IAChC;IAEA,IAAI,WAAW;IAEf,oCAAoC;IACpC,wDAAwD;IACxD,MAAM,iBAAiB,OAAO,MAAM,CAAC,oBAAoB,IAAI,CAC3D,CAAA,OAAQ,KAAK,QAAQ,KAAK;IAE5B,MAAM,gBAAgB,OAAO,MAAM,CAAC,oBAAoB,IAAI,CAC1D,CAAA,OAAQ,KAAK,WAAW,KAAK;IAG/B,IAAI,eAAe;QACjB,wBAAwB;QACxB,WAAW,SAAS,MAAM,CAAC,CAAA;YACzB,MAAM,cAAc,kBAAkB,CAAC,EAAE,MAAM,CAAC;YAChD,OAAO,aAAa,gBAAgB;QACtC;IACF,OAAO,IAAI,gBAAgB;QACzB,0BAA0B;QAC1B,WAAW,SAAS,MAAM,CAAC,CAAA;YACzB,MAAM,cAAc,kBAAkB,CAAC,EAAE,MAAM,CAAC;YAChD,OAAO,aAAa,aAAa;QACnC;IACF,OAAO,IAAI,cAAc,eAAe,oCAAoC,eAAe,4BAA4B;QACrH,yEAAyE;QACzE,2DAA2D;QAC3D,WAAW;IACb;IAEA,2BAA2B;IAC3B,IAAI,SAAS;QACX,IAAI,QAAQ,WAAW,EAAE;YACvB,WAAW,SAAS,MAAM,CAAC,CAAA;gBACzB,MAAM,cAAc,kBAAkB,CAAC,EAAE,MAAM,CAAC;gBAChD,OAAO,aAAa,gBAAgB,QAAQ,WAAW;YACzD;QACF;QAEA,IAAI,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,EAAE;YACxC,WAAW,SAAS,MAAM,CAAC,CAAA;gBACzB,MAAM,QAAQ,WAAW,EAAE,UAAU,CAAC,eAAe,CAAC,MAAM;gBAC5D,IAAI,QAAQ,QAAQ,IAAI,QAAQ,WAAW,QAAQ,QAAQ,GAAG,OAAO;gBACrE,IAAI,QAAQ,QAAQ,IAAI,QAAQ,WAAW,QAAQ,QAAQ,GAAG,OAAO;gBACrE,OAAO;YACT;QACF;QAEA,IAAI,QAAQ,QAAQ,EAAE;YACpB,MAAM,eAAe,QAAQ,QAAQ,CAAC,WAAW;YACjD,WAAW,SAAS,MAAM,CAAC,CAAA,IACzB,EAAE,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAC/B,EAAE,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC;QAEzC;QAEA,IAAI,QAAQ,QAAQ,EAAE;YACpB,WAAW,SAAS,MAAM,CAAC,CAAA;gBACzB,MAAM,cAAc,kBAAkB,CAAC,EAAE,MAAM,CAAC;gBAChD,OAAO,aAAa,aAAa,QAAQ,QAAQ;YACnD;QACF;IACF;IAEA,OAAO;AACT;AAKO,SAAS,8BAA8B,SAAiB;IAC7D,+CAA+C;IAC/C,MAAM,iBAAiB,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACxD,IAAI,CAAC,gBAAgB,OAAO,cAAc,KAAK,CAAC,GAAG;IAEnD,OAAO,cACJ,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WACrB,KAAK,CAAC,GAAG;AACd","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/demo/cart.ts"],"sourcesContent":["import type { Cart, CartItem, Money } from 'lib/shopify/types';\r\nimport { getDemoProduct } from './products';\r\nimport { cookies } from 'next/headers';\r\n\r\n/**\r\n * Демо-реализация функций корзины для работы без Shopify\r\n * Использует cookies для хранения данных корзины\r\n */\r\n\r\n// Хранилище корзин в памяти (для демо)\r\n// В реальном приложении это должно быть в базе данных\r\nconst cartStorage = new Map<string, Cart>();\r\n\r\nfunction createEmptyCart(): Cart {\r\n  const cartId = `demo-cart-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  \r\n  return {\r\n    id: cartId,\r\n    checkoutUrl: `/checkout?cart=${cartId}`,\r\n    cost: {\r\n      subtotalAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      },\r\n      totalAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      },\r\n      totalTaxAmount: {\r\n        amount: '0.00',\r\n        currencyCode: 'AED'\r\n      }\r\n    },\r\n    lines: [],\r\n    totalQuantity: 0\r\n  };\r\n}\r\n\r\nfunction calculateCartTotals(items: CartItem[]): {\r\n  subtotal: string;\r\n  total: string;\r\n  tax: string;\r\n} {\r\n  let subtotal = 0;\r\n  \r\n  items.forEach(item => {\r\n    const price = parseFloat(item.cost.totalAmount.amount);\r\n    subtotal += price;\r\n  });\r\n  \r\n  const tax = subtotal * 0.05; // 5% налог для демо\r\n  const total = subtotal + tax;\r\n  \r\n  return {\r\n    subtotal: subtotal.toFixed(2),\r\n    total: total.toFixed(2),\r\n    tax: tax.toFixed(2)\r\n  };\r\n}\r\n\r\n/**\r\n * Создать новую корзину\r\n */\r\nexport async function createDemoCart(): Promise<Cart> {\r\n  const cart = createEmptyCart();\r\n  cartStorage.set(cart.id!, cart);\r\n  \r\n  const cookieStore = await cookies();\r\n  cookieStore.set('cartId', cart.id!);\r\n  \r\n  return cart;\r\n}\r\n\r\n/**\r\n * Получить корзину по ID\r\n */\r\nexport async function getDemoCart(cartId: string): Promise<Cart | undefined> {\r\n  return cartStorage.get(cartId);\r\n}\r\n\r\n/**\r\n * Добавить товар в корзину\r\n */\r\nexport async function addToDemoCart(\r\n  cartId: string,\r\n  lines: { merchandiseId: string; quantity: number }[],\r\n  deliveryPrice?: number\r\n): Promise<Cart> {\r\n  let cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    cart = createEmptyCart();\r\n    cart.id = cartId;\r\n    cartStorage.set(cartId, cart);\r\n  }\r\n  \r\n  // Добавляем товары в корзину\r\n  for (const line of lines) {\r\n    // Извлекаем handle из merchandiseId (может быть полный ID или handle)\r\n    let handle = line.merchandiseId;\r\n    if (handle.includes('/')) {\r\n      // Если это полный ID типа \"gid://shopify/ProductVariant/handle-variant\"\r\n      const parts = handle.split('/');\r\n      const lastPart = parts[parts.length - 1];\r\n      // Убираем суффикс \"-variant\" если есть\r\n      handle = lastPart.replace(/-variant$/, '');\r\n    }\r\n    \r\n    const product = getDemoProduct(handle);\r\n    \r\n    if (!product) {\r\n      console.warn(`Product not found for handle: ${handle}`);\r\n      continue;\r\n    }\r\n    \r\n    const variant = product.variants[0];\r\n    const existingItem = cart.lines.find(\r\n      item => item.merchandise.id === variant.id\r\n    );\r\n    \r\n    const basePrice = parseFloat(variant.price.amount);\r\n    const deliveryCost = deliveryPrice || 0;\r\n    const itemPriceWithDelivery = basePrice + deliveryCost;\r\n    \r\n    if (existingItem) {\r\n      // Увеличиваем количество\r\n      existingItem.quantity += line.quantity;\r\n      // Пересчитываем цену с учетом доставки\r\n      existingItem.cost.totalAmount.amount = (itemPriceWithDelivery * existingItem.quantity).toFixed(2);\r\n    } else {\r\n      // Добавляем новый товар\r\n      const totalPrice = (itemPriceWithDelivery * line.quantity).toFixed(2);\r\n      \r\n      const cartItem: CartItem = {\r\n        id: `demo-line-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n        quantity: line.quantity,\r\n        cost: {\r\n          totalAmount: {\r\n            amount: totalPrice,\r\n            currencyCode: variant.price.currencyCode\r\n          }\r\n        },\r\n        merchandise: {\r\n          id: variant.id,\r\n          title: variant.title,\r\n          selectedOptions: variant.selectedOptions,\r\n          product: {\r\n            id: product.id,\r\n            handle: product.handle,\r\n            title: product.title,\r\n            featuredImage: product.featuredImage\r\n          }\r\n        }\r\n      };\r\n      \r\n      cart.lines.push(cartItem);\r\n    }\r\n  }\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n/**\r\n * Удалить товар из корзины\r\n */\r\nexport async function removeFromDemoCart(\r\n  cartId: string,\r\n  lineIds: string[]\r\n): Promise<Cart> {\r\n  const cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    throw new Error('Cart not found');\r\n  }\r\n  \r\n  cart.lines = cart.lines.filter(item => !lineIds.includes(item.id || ''));\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n/**\r\n * Обновить корзину\r\n */\r\nexport async function updateDemoCart(\r\n  cartId: string,\r\n  lines: { id: string; merchandiseId: string; quantity: number }[]\r\n): Promise<Cart> {\r\n  const cart = cartStorage.get(cartId);\r\n  \r\n  if (!cart) {\r\n    throw new Error('Cart not found');\r\n  }\r\n  \r\n  // Обновляем товары\r\n  for (const line of lines) {\r\n    const item = cart.lines.find(i => i.id === line.id);\r\n    \r\n    if (item) {\r\n      if (line.quantity === 0) {\r\n        // Удаляем товар\r\n        cart.lines = cart.lines.filter(i => i.id !== line.id);\r\n      } else {\r\n        // Обновляем количество\r\n        // Сохраняем цену за единицу (включая доставку) из текущей стоимости\r\n        const currentTotal = parseFloat(item.cost.totalAmount.amount);\r\n        const pricePerUnit = currentTotal / item.quantity;\r\n        item.quantity = line.quantity;\r\n        item.cost.totalAmount.amount = (pricePerUnit * line.quantity).toFixed(2);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Пересчитываем итоги\r\n  const totals = calculateCartTotals(cart.lines);\r\n  cart.cost.subtotalAmount.amount = totals.subtotal;\r\n  cart.cost.totalAmount.amount = totals.total;\r\n  cart.cost.totalTaxAmount.amount = totals.tax;\r\n  cart.totalQuantity = cart.lines.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  cartStorage.set(cartId, cart);\r\n  return cart;\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}