{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/footer-menu.tsx"],"sourcesContent":["'use client';\r\n\r\nimport clsx from 'clsx';\r\nimport { Menu } from 'lib/shopify/types';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function FooterMenuItem({ item }: { item: Menu }) {\r\n  const pathname = usePathname();\r\n  const [active, setActive] = useState(pathname === item.path);\r\n\r\n  useEffect(() => {\r\n    setActive(pathname === item.path);\r\n  }, [pathname, item.path]);\r\n\r\n  return (\r\n    <li>\r\n      <Link\r\n        href={item.path}\r\n        className={clsx(\r\n          'block p-2 text-lg underline-offset-4 hover:text-black hover:underline md:inline-block md:text-sm dark:hover:text-neutral-300',\r\n          {\r\n            'text-black dark:text-neutral-300': active\r\n          }\r\n        )}\r\n      >\r\n        {item.title}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default function FooterMenu({ menu }: { menu: Menu[] }) {\r\n  if (!menu.length) return null;\r\n\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        {menu.map((item: Menu) => {\r\n          return <FooterMenuItem key={item.title} item={item} />;\r\n        })}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAQO,SAAS,eAAe,EAAE,IAAI,EAAkB;IACrD,MAAM,WAAW,IAAA,0PAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,0TAAQ,EAAC,aAAa,KAAK,IAAI;IAE3D,IAAA,2TAAS,EAAC;QACR,UAAU,aAAa,KAAK,IAAI;IAClC,GAAG;QAAC;QAAU,KAAK,IAAI;KAAC;IAExB,qBACE,uVAAC;kBACC,cAAA,uVAAC,gRAAI;YACH,MAAM,KAAK,IAAI;YACf,WAAW,IAAA,iMAAI,EACb,gIACA;gBACE,oCAAoC;YACtC;sBAGD,KAAK,KAAK;;;;;;;;;;;AAInB;AAEe,SAAS,WAAW,EAAE,IAAI,EAAoB;IAC3D,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO;IAEzB,qBACE,uVAAC;kBACC,cAAA,uVAAC;sBACE,KAAK,GAAG,CAAC,CAAC;gBACT,qBAAO,uVAAC;oBAAgC,MAAM;mBAAlB,KAAK,KAAK;;;;;YACxC;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/label.tsx"],"sourcesContent":["import clsx from 'clsx';\r\nimport Price from './price';\r\n\r\nconst Label = ({\r\n  title,\r\n  amount,\r\n  currencyCode,\r\n  position = 'bottom'\r\n}: {\r\n  title: string;\r\n  amount: string;\r\n  currencyCode: string;\r\n  position?: 'bottom' | 'center';\r\n}) => {\r\n  return (\r\n    <div\r\n      className={clsx('absolute bottom-0 left-0 flex w-full px-4 pb-4 @container/label', {\r\n        'lg:px-20 lg:pb-[35%]': position === 'center'\r\n      })}\r\n    >\r\n      <div className=\"flex items-center rounded-full border bg-white/70 p-1 text-xs font-semibold text-black backdrop-blur-md dark:border-neutral-800 dark:bg-black/70 dark:text-white\">\r\n        <h3 className=\"mr-4 line-clamp-2 grow pl-2 leading-none tracking-tight\">{title}</h3>\r\n        <Price\r\n          className=\"flex-none rounded-full bg-blue-600 p-2 text-white\"\r\n          amount={amount}\r\n          currencyCode={currencyCode}\r\n          currencyCodeClassName=\"hidden @[275px]/label:inline\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,QAAQ,CAAC,EACb,KAAK,EACL,MAAM,EACN,YAAY,EACZ,WAAW,QAAQ,EAMpB;IACC,qBACE,uVAAC;QACC,WAAW,IAAA,iMAAI,EAAC,mEAAmE;YACjF,wBAAwB,aAAa;QACvC;kBAEA,cAAA,uVAAC;YAAI,WAAU;;8BACb,uVAAC;oBAAG,WAAU;8BAA2D;;;;;;8BACzE,uVAAC,+HAAK;oBACJ,WAAU;oBACV,QAAQ;oBACR,cAAc;oBACd,uBAAsB;;;;;;;;;;;;;;;;;AAKhC;uCAEe","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/grid/tile.tsx"],"sourcesContent":["import clsx from 'clsx';\r\nimport Image from 'next/image';\r\nimport Label from '../label';\r\n\r\nexport function GridTileImage({\r\n  isInteractive = true,\r\n  active,\r\n  label,\r\n  ...props\r\n}: {\r\n  isInteractive?: boolean;\r\n  active?: boolean;\r\n  label?: {\r\n    title: string;\r\n    amount: string;\r\n    currencyCode: string;\r\n    position?: 'bottom' | 'center';\r\n  };\r\n} & React.ComponentProps<typeof Image>) {\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'group flex h-full w-full items-center justify-center overflow-hidden rounded-lg border bg-white hover:border-blue-600 dark:bg-black',\r\n        {\r\n          relative: label,\r\n          'border-2 border-blue-600': active,\r\n          'border-neutral-200 dark:border-neutral-800': !active\r\n        }\r\n      )}\r\n    >\r\n      {props.src ? (\r\n        <Image\r\n          className={clsx('relative h-full w-full object-contain', {\r\n            'transition duration-300 ease-in-out group-hover:scale-105': isInteractive\r\n          })}\r\n          {...props}\r\n        />\r\n      ) : null}\r\n      {label ? (\r\n        <Label\r\n          title={label.title}\r\n          amount={label.amount}\r\n          currencyCode={label.currencyCode}\r\n          position={label.position}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEO,SAAS,cAAc,EAC5B,gBAAgB,IAAI,EACpB,MAAM,EACN,KAAK,EACL,GAAG,OAUiC;IACpC,qBACE,uVAAC;QACC,WAAW,IAAA,iMAAI,EACb,uIACA;YACE,UAAU;YACV,4BAA4B;YAC5B,8CAA8C,CAAC;QACjD;;YAGD,MAAM,GAAG,iBACR,uVAAC,iPAAK;gBACJ,WAAW,IAAA,iMAAI,EAAC,yCAAyC;oBACvD,6DAA6D;gBAC/D;gBACC,GAAG,KAAK;;;;;uBAET;YACH,sBACC,uVAAC,+HAAK;gBACJ,OAAO,MAAM,KAAK;gBAClB,QAAQ,MAAM,MAAM;gBACpB,cAAc,MAAM,YAAY;gBAChC,UAAU,MAAM,QAAQ;;;;;uBAExB;;;;;;;AAGV","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/product/product-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport React, { createContext, useContext, useMemo, useOptimistic } from 'react';\r\n\r\ntype ProductState = {\r\n  [key: string]: string;\r\n} & {\r\n  image?: string;\r\n};\r\n\r\ntype ProductContextType = {\r\n  state: ProductState;\r\n  updateOption: (name: string, value: string) => ProductState;\r\n  updateImage: (index: string) => ProductState;\r\n};\r\n\r\nconst ProductContext = createContext<ProductContextType | undefined>(undefined);\r\n\r\nexport function ProductProvider({ children }: { children: React.ReactNode }) {\r\n  const searchParams = useSearchParams();\r\n\r\n  const getInitialState = () => {\r\n    const params: ProductState = {};\r\n    for (const [key, value] of searchParams.entries()) {\r\n      params[key] = value;\r\n    }\r\n    return params;\r\n  };\r\n\r\n  const [state, setOptimisticState] = useOptimistic(\r\n    getInitialState(),\r\n    (prevState: ProductState, update: ProductState) => ({\r\n      ...prevState,\r\n      ...update\r\n    })\r\n  );\r\n\r\n  const updateOption = (name: string, value: string) => {\r\n    const newState = { [name]: value };\r\n    setOptimisticState(newState);\r\n    return { ...state, ...newState };\r\n  };\r\n\r\n  const updateImage = (index: string) => {\r\n    const newState = { image: index };\r\n    setOptimisticState(newState);\r\n    return { ...state, ...newState };\r\n  };\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      state,\r\n      updateOption,\r\n      updateImage\r\n    }),\r\n    [state]\r\n  );\r\n\r\n  return <ProductContext.Provider value={value}>{children}</ProductContext.Provider>;\r\n}\r\n\r\nexport function useProduct() {\r\n  const context = useContext(ProductContext);\r\n  if (context === undefined) {\r\n    throw new Error('useProduct must be used within a ProductProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\nexport function useUpdateURL() {\r\n  const router = useRouter();\r\n\r\n  return (state: ProductState) => {\r\n    const newParams = new URLSearchParams(window.location.search);\r\n    Object.entries(state).forEach(([key, value]) => {\r\n      newParams.set(key, value);\r\n    });\r\n    router.push(`?${newParams.toString()}`, { scroll: false });\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAHA;;;;AAiBA,MAAM,+BAAiB,IAAA,+TAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,MAAM,eAAe,IAAA,8PAAe;IAEpC,MAAM,kBAAkB;QACtB,MAAM,SAAuB,CAAC;QAC9B,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,aAAa,OAAO,GAAI;YACjD,MAAM,CAAC,IAAI,GAAG;QAChB;QACA,OAAO;IACT;IAEA,MAAM,CAAC,OAAO,mBAAmB,GAAG,IAAA,+TAAa,EAC/C,mBACA,CAAC,WAAyB,SAAyB,CAAC;YAClD,GAAG,SAAS;YACZ,GAAG,MAAM;QACX,CAAC;IAGH,MAAM,eAAe,CAAC,MAAc;QAClC,MAAM,WAAW;YAAE,CAAC,KAAK,EAAE;QAAM;QACjC,mBAAmB;QACnB,OAAO;YAAE,GAAG,KAAK;YAAE,GAAG,QAAQ;QAAC;IACjC;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,WAAW;YAAE,OAAO;QAAM;QAChC,mBAAmB;QACnB,OAAO;YAAE,GAAG,KAAK;YAAE,GAAG,QAAQ;QAAC;IACjC;IAEA,MAAM,QAAQ,IAAA,yTAAO,EACnB,IAAM,CAAC;YACL;YACA;YACA;QACF,CAAC,GACD;QAAC;KAAM;IAGT,qBAAO,uVAAC,eAAe,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AACjD;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,4TAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,SAAS;IACd,MAAM,SAAS,IAAA,wPAAS;IAExB,OAAO,CAAC;QACN,MAAM,YAAY,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;QAC5D,OAAO,OAAO,CAAC,OAAO,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;YACzC,UAAU,GAAG,CAAC,KAAK;QACrB;QACA,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,UAAU,QAAQ,IAAI,EAAE;YAAE,QAAQ;QAAM;IAC1D;AACF","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/product/gallery.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ArrowLeftIcon, ArrowRightIcon } from '@heroicons/react/24/outline';\r\nimport { GridTileImage } from 'components/grid/tile';\r\nimport { useProduct, useUpdateURL } from 'components/product/product-context';\r\nimport Image from 'next/image';\r\n\r\nexport function Gallery({ images }: { images: { src: string; altText: string }[] }) {\r\n  const { state, updateImage } = useProduct();\r\n  const updateURL = useUpdateURL();\r\n  const imageIndex = state.image ? parseInt(state.image) : 0;\r\n\r\n  const nextImageIndex = imageIndex + 1 < images.length ? imageIndex + 1 : 0;\r\n  const previousImageIndex = imageIndex === 0 ? images.length - 1 : imageIndex - 1;\r\n\r\n  const buttonClassName =\r\n    'h-full px-6 transition-all ease-in-out hover:scale-110 hover:text-black dark:hover:text-white flex items-center justify-center';\r\n\r\n  return (\r\n    <form>\r\n      <div className=\"relative aspect-square h-full max-h-[550px] w-full overflow-hidden\">\r\n        {images[imageIndex] && (\r\n          <Image\r\n            className=\"h-full w-full object-contain\"\r\n            fill\r\n            sizes=\"(min-width: 1024px) 66vw, 100vw\"\r\n            alt={images[imageIndex]?.altText as string}\r\n            src={images[imageIndex]?.src as string}\r\n            priority={true}\r\n          />\r\n        )}\r\n\r\n        {images.length > 1 ? (\r\n          <div className=\"absolute bottom-[15%] flex w-full justify-center\">\r\n            <div className=\"mx-auto flex h-11 items-center rounded-full border border-white bg-neutral-50/80 text-neutral-500 backdrop-blur-sm dark:border-black dark:bg-neutral-900/80\">\r\n              <button\r\n                formAction={() => {\r\n                  const newState = updateImage(previousImageIndex.toString());\r\n                  updateURL(newState);\r\n                }}\r\n                aria-label=\"Previous product image\"\r\n                className={buttonClassName}\r\n              >\r\n                <ArrowLeftIcon className=\"h-5\" />\r\n              </button>\r\n              <div className=\"mx-1 h-6 w-px bg-neutral-500\"></div>\r\n              <button\r\n                formAction={() => {\r\n                  const newState = updateImage(nextImageIndex.toString());\r\n                  updateURL(newState);\r\n                }}\r\n                aria-label=\"Next product image\"\r\n                className={buttonClassName}\r\n              >\r\n                <ArrowRightIcon className=\"h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      {images.length > 1 ? (\r\n        <ul className=\"my-12 flex items-center flex-wrap justify-center gap-2 overflow-auto py-1 lg:mb-0\">\r\n          {images.map((image, index) => {\r\n            const isActive = index === imageIndex;\r\n\r\n            return (\r\n              <li key={image.src} className=\"h-20 w-20\">\r\n                <button\r\n                  formAction={() => {\r\n                    const newState = updateImage(index.toString());\r\n                    updateURL(newState);\r\n                  }}\r\n                  aria-label=\"Select product image\"\r\n                  className=\"h-full w-full\"\r\n                >\r\n                  <GridTileImage\r\n                    alt={image.altText}\r\n                    src={image.src}\r\n                    width={80}\r\n                    height={80}\r\n                    active={isActive}\r\n                  />\r\n                </button>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      ) : null}\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,QAAQ,EAAE,MAAM,EAAkD;IAChF,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,0JAAU;IACzC,MAAM,YAAY,IAAA,4JAAY;IAC9B,MAAM,aAAa,MAAM,KAAK,GAAG,SAAS,MAAM,KAAK,IAAI;IAEzD,MAAM,iBAAiB,aAAa,IAAI,OAAO,MAAM,GAAG,aAAa,IAAI;IACzE,MAAM,qBAAqB,eAAe,IAAI,OAAO,MAAM,GAAG,IAAI,aAAa;IAE/E,MAAM,kBACJ;IAEF,qBACE,uVAAC;;0BACC,uVAAC;gBAAI,WAAU;;oBACZ,MAAM,CAAC,WAAW,kBACjB,uVAAC,iPAAK;wBACJ,WAAU;wBACV,IAAI;wBACJ,OAAM;wBACN,KAAK,MAAM,CAAC,WAAW,EAAE;wBACzB,KAAK,MAAM,CAAC,WAAW,EAAE;wBACzB,UAAU;;;;;;oBAIb,OAAO,MAAM,GAAG,kBACf,uVAAC;wBAAI,WAAU;kCACb,cAAA,uVAAC;4BAAI,WAAU;;8CACb,uVAAC;oCACC,YAAY;wCACV,MAAM,WAAW,YAAY,mBAAmB,QAAQ;wCACxD,UAAU;oCACZ;oCACA,cAAW;oCACX,WAAW;8CAEX,cAAA,uVAAC,iUAAa;wCAAC,WAAU;;;;;;;;;;;8CAE3B,uVAAC;oCAAI,WAAU;;;;;;8CACf,uVAAC;oCACC,YAAY;wCACV,MAAM,WAAW,YAAY,eAAe,QAAQ;wCACpD,UAAU;oCACZ;oCACA,cAAW;oCACX,WAAW;8CAEX,cAAA,uVAAC,oUAAc;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;+BAI9B;;;;;;;YAGL,OAAO,MAAM,GAAG,kBACf,uVAAC;gBAAG,WAAU;0BACX,OAAO,GAAG,CAAC,CAAC,OAAO;oBAClB,MAAM,WAAW,UAAU;oBAE3B,qBACE,uVAAC;wBAAmB,WAAU;kCAC5B,cAAA,uVAAC;4BACC,YAAY;gCACV,MAAM,WAAW,YAAY,MAAM,QAAQ;gCAC3C,UAAU;4BACZ;4BACA,cAAW;4BACX,WAAU;sCAEV,cAAA,uVAAC,4IAAa;gCACZ,KAAK,MAAM,OAAO;gCAClB,KAAK,MAAM,GAAG;gCACd,OAAO;gCACP,QAAQ;gCACR,QAAQ;;;;;;;;;;;uBAdL,MAAM,GAAG;;;;;gBAmBtB;;;;;uBAEA;;;;;;;AAGV","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { TAGS } from 'lib/constants';\r\nimport {\r\n  addToCart,\r\n  createCart,\r\n  getCart,\r\n  removeFromCart,\r\n  updateCart\r\n} from 'lib/shopify';\r\nimport { revalidateTag } from 'next/cache';\r\nimport { cookies } from 'next/headers';\r\nimport { redirect } from 'next/navigation';\r\n\r\nexport async function addItem(\r\n  prevState: any,\r\n  selectedVariantId: string | undefined\r\n) {\r\n  if (!selectedVariantId) {\r\n    return 'Error adding item to cart';\r\n  }\r\n\r\n  try {\r\n    let cart = await getCart();\r\n    \r\n    // If cart doesn't exist, create one\r\n    if (!cart) {\r\n      cart = await createCart();\r\n      (await cookies()).set('cartId', cart.id!);\r\n    }\r\n    \r\n    await addToCart([{ merchandiseId: selectedVariantId, quantity: 1 }]);\r\n    revalidateTag(TAGS.cart, 'seconds');\r\n  } catch (e) {\r\n    console.error('Error adding item to cart:', e);\r\n    return 'Error adding item to cart';\r\n  }\r\n}\r\n\r\nexport async function removeItem(prevState: any, merchandiseId: string) {\r\n  try {\r\n    const cart = await getCart();\r\n\r\n    if (!cart) {\r\n      return 'Error fetching cart';\r\n    }\r\n\r\n    const lineItem = cart.lines.find(\r\n      (line) => line.merchandise.id === merchandiseId\r\n    );\r\n\r\n    if (lineItem && lineItem.id) {\r\n      await removeFromCart([lineItem.id]);\r\n      revalidateTag(TAGS.cart, 'seconds');\r\n    } else {\r\n      return 'Item not found in cart';\r\n    }\r\n  } catch (e) {\r\n    return 'Error removing item from cart';\r\n  }\r\n}\r\n\r\nexport async function updateItemQuantity(\r\n  prevState: any,\r\n  payload: {\r\n    merchandiseId: string;\r\n    quantity: number;\r\n  }\r\n) {\r\n  const { merchandiseId, quantity } = payload;\r\n\r\n  try {\r\n    const cart = await getCart();\r\n\r\n    if (!cart) {\r\n      return 'Error fetching cart';\r\n    }\r\n\r\n    const lineItem = cart.lines.find(\r\n      (line) => line.merchandise.id === merchandiseId\r\n    );\r\n\r\n    if (lineItem && lineItem.id) {\r\n      if (quantity === 0) {\r\n        await removeFromCart([lineItem.id]);\r\n      } else {\r\n        await updateCart([\r\n          {\r\n            id: lineItem.id,\r\n            merchandiseId,\r\n            quantity\r\n          }\r\n        ]);\r\n      }\r\n    } else if (quantity > 0) {\r\n      // If the item doesn't exist in the cart and quantity > 0, add it\r\n      await addToCart([{ merchandiseId, quantity }]);\r\n    }\r\n\r\n    revalidateTag(TAGS.cart, 'seconds');\r\n  } catch (e) {\r\n    console.error(e);\r\n    return 'Error updating item quantity';\r\n  }\r\n}\r\n\r\nexport async function redirectToCheckout() {\r\n  let cart = await getCart();\r\n  redirect(cart!.checkoutUrl);\r\n}\r\n\r\nexport async function createCartAndSetCookie() {\r\n  let cart = await createCart();\r\n  (await cookies()).set('cartId', cart.id!);\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAcsB,UAAA,WAAA,GAAA,IAAA,wVAAA,EAAA,8CAAA,6UAAA,EAAA,KAAA,GAAA,mVAAA,EAAA","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/add-to-cart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PlusIcon } from '@heroicons/react/24/outline';\r\nimport clsx from 'clsx';\r\nimport { addItem } from 'components/cart/actions';\r\nimport { useProduct } from 'components/product/product-context';\r\nimport { Product, ProductVariant } from 'lib/shopify/types';\r\nimport { useActionState } from 'react';\r\nimport { useCart } from './cart-context';\r\n\r\nfunction SubmitButton({\r\n  availableForSale,\r\n  selectedVariantId\r\n}: {\r\n  availableForSale: boolean;\r\n  selectedVariantId: string | undefined;\r\n}) {\r\n  const buttonClasses =\r\n    'relative flex w-full items-center justify-center rounded-full bg-blue-600 p-4 tracking-wide text-white';\r\n  const disabledClasses = 'cursor-not-allowed opacity-60 hover:opacity-60';\r\n\r\n  if (!availableForSale) {\r\n    return (\r\n      <button disabled className={clsx(buttonClasses, disabledClasses)}>\r\n        Out Of Stock\r\n      </button>\r\n    );\r\n  }\r\n\r\n  if (!selectedVariantId) {\r\n    return (\r\n      <button\r\n        aria-label=\"Please select an option\"\r\n        disabled\r\n        className={clsx(buttonClasses, disabledClasses)}\r\n      >\r\n        <div className=\"absolute left-0 ml-4\">\r\n          <PlusIcon className=\"h-5\" />\r\n        </div>\r\n        Add To Cart\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <button\r\n      aria-label=\"Add to cart\"\r\n      className={clsx(buttonClasses, {\r\n        'hover:opacity-90': true\r\n      })}\r\n    >\r\n      <div className=\"absolute left-0 ml-4\">\r\n        <PlusIcon className=\"h-5\" />\r\n      </div>\r\n      Add To Cart\r\n    </button>\r\n  );\r\n}\r\n\r\nexport function AddToCart({ product }: { product: Product }) {\r\n  const { variants, availableForSale } = product;\r\n  const { addCartItem } = useCart();\r\n  const { state } = useProduct();\r\n  const [message, formAction] = useActionState(addItem, null);\r\n\r\n  const variant = variants.find((variant: ProductVariant) =>\r\n    variant.selectedOptions.every(\r\n      (option) => option.value === state[option.name.toLowerCase()]\r\n    )\r\n  );\r\n  const defaultVariantId = variants.length === 1 ? variants[0]?.id : undefined;\r\n  const selectedVariantId = variant?.id || defaultVariantId;\r\n  const addItemAction = formAction.bind(null, selectedVariantId);\r\n  const finalVariant = variants.find(\r\n    (variant) => variant.id === selectedVariantId\r\n  )!;\r\n\r\n  return (\r\n    <form\r\n      action={async () => {\r\n        addCartItem(finalVariant, product);\r\n        addItemAction();\r\n      }}\r\n    >\r\n      <SubmitButton\r\n        availableForSale={availableForSale}\r\n        selectedVariantId={selectedVariantId}\r\n      />\r\n      <p aria-live=\"polite\" className=\"sr-only\" role=\"status\">\r\n        {message}\r\n      </p>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AARA;;;;;;;;AAUA,SAAS,aAAa,EACpB,gBAAgB,EAChB,iBAAiB,EAIlB;IACC,MAAM,gBACJ;IACF,MAAM,kBAAkB;IAExB,IAAI,CAAC,kBAAkB;QACrB,qBACE,uVAAC;YAAO,QAAQ;YAAC,WAAW,IAAA,iMAAI,EAAC,eAAe;sBAAkB;;;;;;IAItE;IAEA,IAAI,CAAC,mBAAmB;QACtB,qBACE,uVAAC;YACC,cAAW;YACX,QAAQ;YACR,WAAW,IAAA,iMAAI,EAAC,eAAe;;8BAE/B,uVAAC;oBAAI,WAAU;8BACb,cAAA,uVAAC,kTAAQ;wBAAC,WAAU;;;;;;;;;;;gBAChB;;;;;;;IAIZ;IAEA,qBACE,uVAAC;QACC,cAAW;QACX,WAAW,IAAA,iMAAI,EAAC,eAAe;YAC7B,oBAAoB;QACtB;;0BAEA,uVAAC;gBAAI,WAAU;0BACb,cAAA,uVAAC,kTAAQ;oBAAC,WAAU;;;;;;;;;;;YAChB;;;;;;;AAIZ;AAEO,SAAS,UAAU,EAAE,OAAO,EAAwB;IACzD,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG;IACvC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,iJAAO;IAC/B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,0JAAU;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gUAAc,EAAC,qKAAO,EAAE;IAEtD,MAAM,UAAU,SAAS,IAAI,CAAC,CAAC,UAC7B,QAAQ,eAAe,CAAC,KAAK,CAC3B,CAAC,SAAW,OAAO,KAAK,KAAK,KAAK,CAAC,OAAO,IAAI,CAAC,WAAW,GAAG;IAGjE,MAAM,mBAAmB,SAAS,MAAM,KAAK,IAAI,QAAQ,CAAC,EAAE,EAAE,KAAK;IACnE,MAAM,oBAAoB,SAAS,MAAM;IACzC,MAAM,gBAAgB,WAAW,IAAI,CAAC,MAAM;IAC5C,MAAM,eAAe,SAAS,IAAI,CAChC,CAAC,UAAY,QAAQ,EAAE,KAAK;IAG9B,qBACE,uVAAC;QACC,QAAQ;YACN,YAAY,cAAc;YAC1B;QACF;;0BAEA,uVAAC;gBACC,kBAAkB;gBAClB,mBAAmB;;;;;;0BAErB,uVAAC;gBAAE,aAAU;gBAAS,WAAU;gBAAU,MAAK;0BAC5C;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/product/variant-selector.tsx"],"sourcesContent":["'use client';\r\n\r\nimport clsx from 'clsx';\r\nimport { useProduct, useUpdateURL } from 'components/product/product-context';\r\nimport { ProductOption, ProductVariant } from 'lib/shopify/types';\r\n\r\ntype Combination = {\r\n  id: string;\r\n  availableForSale: boolean;\r\n  [key: string]: string | boolean;\r\n};\r\n\r\nexport function VariantSelector({\r\n  options,\r\n  variants\r\n}: {\r\n  options: ProductOption[];\r\n  variants: ProductVariant[];\r\n}) {\r\n  const { state, updateOption } = useProduct();\r\n  const updateURL = useUpdateURL();\r\n  const hasNoOptionsOrJustOneOption =\r\n    !options.length || (options.length === 1 && options[0]?.values.length === 1);\r\n\r\n  if (hasNoOptionsOrJustOneOption) {\r\n    return null;\r\n  }\r\n\r\n  const combinations: Combination[] = variants.map((variant) => ({\r\n    id: variant.id,\r\n    availableForSale: variant.availableForSale,\r\n    ...variant.selectedOptions.reduce(\r\n      (accumulator, option) => ({ ...accumulator, [option.name.toLowerCase()]: option.value }),\r\n      {}\r\n    )\r\n  }));\r\n\r\n  return options.map((option) => (\r\n    <form key={option.id}>\r\n      <dl className=\"mb-8\">\r\n        <dt className=\"mb-4 text-sm uppercase tracking-wide\">{option.name}</dt>\r\n        <dd className=\"flex flex-wrap gap-3\">\r\n          {option.values.map((value) => {\r\n            const optionNameLowerCase = option.name.toLowerCase();\r\n\r\n            // Base option params on current selectedOptions so we can preserve any other param state.\r\n            const optionParams = { ...state, [optionNameLowerCase]: value };\r\n\r\n            // Filter out invalid options and check if the option combination is available for sale.\r\n            const filtered = Object.entries(optionParams).filter(([key, value]) =>\r\n              options.find(\r\n                (option) => option.name.toLowerCase() === key && option.values.includes(value)\r\n              )\r\n            );\r\n            const isAvailableForSale = combinations.find((combination) =>\r\n              filtered.every(\r\n                ([key, value]) => combination[key] === value && combination.availableForSale\r\n              )\r\n            );\r\n\r\n            // The option is active if it's in the selected options.\r\n            const isActive = state[optionNameLowerCase] === value;\r\n\r\n            return (\r\n              <button\r\n                formAction={() => {\r\n                  const newState = updateOption(optionNameLowerCase, value);\r\n                  updateURL(newState);\r\n                }}\r\n                key={value}\r\n                aria-disabled={!isAvailableForSale}\r\n                disabled={!isAvailableForSale}\r\n                title={`${option.name} ${value}${!isAvailableForSale ? ' (Out of Stock)' : ''}`}\r\n                className={clsx(\r\n                  'flex min-w-[48px] items-center justify-center rounded-full border bg-neutral-100 px-2 py-1 text-sm dark:border-neutral-800 dark:bg-neutral-900',\r\n                  {\r\n                    'cursor-default ring-2 ring-blue-600': isActive,\r\n                    'ring-1 ring-transparent transition duration-300 ease-in-out hover:ring-blue-600':\r\n                      !isActive && isAvailableForSale,\r\n                    'relative z-10 cursor-not-allowed overflow-hidden bg-neutral-100 text-neutral-500 ring-1 ring-neutral-300 before:absolute before:inset-x-0 before:-z-10 before:h-px before:-rotate-45 before:bg-neutral-300 before:transition-transform dark:bg-neutral-900 dark:text-neutral-400 dark:ring-neutral-700 dark:before:bg-neutral-700':\r\n                      !isAvailableForSale\r\n                  }\r\n                )}\r\n              >\r\n                {value}\r\n              </button>\r\n            );\r\n          })}\r\n        </dd>\r\n      </dl>\r\n    </form>\r\n  ));\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,gBAAgB,EAC9B,OAAO,EACP,QAAQ,EAIT;IACC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,IAAA,0JAAU;IAC1C,MAAM,YAAY,IAAA,4JAAY;IAC9B,MAAM,8BACJ,CAAC,QAAQ,MAAM,IAAK,QAAQ,MAAM,KAAK,KAAK,OAAO,CAAC,EAAE,EAAE,OAAO,WAAW;IAE5E,IAAI,6BAA6B;QAC/B,OAAO;IACT;IAEA,MAAM,eAA8B,SAAS,GAAG,CAAC,CAAC,UAAY,CAAC;YAC7D,IAAI,QAAQ,EAAE;YACd,kBAAkB,QAAQ,gBAAgB;YAC1C,GAAG,QAAQ,eAAe,CAAC,MAAM,CAC/B,CAAC,aAAa,SAAW,CAAC;oBAAE,GAAG,WAAW;oBAAE,CAAC,OAAO,IAAI,CAAC,WAAW,GAAG,EAAE,OAAO,KAAK;gBAAC,CAAC,GACvF,CAAC,EACF;QACH,CAAC;IAED,OAAO,QAAQ,GAAG,CAAC,CAAC,uBAClB,uVAAC;sBACC,cAAA,uVAAC;gBAAG,WAAU;;kCACZ,uVAAC;wBAAG,WAAU;kCAAwC,OAAO,IAAI;;;;;;kCACjE,uVAAC;wBAAG,WAAU;kCACX,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;4BAClB,MAAM,sBAAsB,OAAO,IAAI,CAAC,WAAW;4BAEnD,0FAA0F;4BAC1F,MAAM,eAAe;gCAAE,GAAG,KAAK;gCAAE,CAAC,oBAAoB,EAAE;4BAAM;4BAE9D,wFAAwF;4BACxF,MAAM,WAAW,OAAO,OAAO,CAAC,cAAc,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,GAChE,QAAQ,IAAI,CACV,CAAC,SAAW,OAAO,IAAI,CAAC,WAAW,OAAO,OAAO,OAAO,MAAM,CAAC,QAAQ,CAAC;4BAG5E,MAAM,qBAAqB,aAAa,IAAI,CAAC,CAAC,cAC5C,SAAS,KAAK,CACZ,CAAC,CAAC,KAAK,MAAM,GAAK,WAAW,CAAC,IAAI,KAAK,SAAS,YAAY,gBAAgB;4BAIhF,wDAAwD;4BACxD,MAAM,WAAW,KAAK,CAAC,oBAAoB,KAAK;4BAEhD,qBACE,uVAAC;gCACC,YAAY;oCACV,MAAM,WAAW,aAAa,qBAAqB;oCACnD,UAAU;gCACZ;gCAEA,iBAAe,CAAC;gCAChB,UAAU,CAAC;gCACX,OAAO,GAAG,OAAO,IAAI,CAAC,CAAC,EAAE,QAAQ,CAAC,qBAAqB,oBAAoB,IAAI;gCAC/E,WAAW,IAAA,iMAAI,EACb,kJACA;oCACE,uCAAuC;oCACvC,mFACE,CAAC,YAAY;oCACf,qUACE,CAAC;gCACL;0CAGD;+BAfI;;;;;wBAkBX;;;;;;;;;;;;WAjDK,OAAO,EAAE;;;;;AAsDxB","debugId":null}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/node_modules/.pnpm/%40heroicons%2Breact%402.2.0_react%4019.0.0/node_modules/%40heroicons/react/24/outline/esm/ArrowLeftIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowLeftIcon);\nexport default ForwardRef;"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,cAAc,EACrB,KAAK,EACL,OAAO,EACP,GAAG,OACJ,EAAE,MAAM;IACP,OAAO,WAAW,GAAE,+TAAmB,CAAC,OAAO,OAAO,MAAM,CAAC;QAC3D,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,QAAQ;QACR,eAAe;QACf,aAAa;QACb,KAAK;QACL,mBAAmB;IACrB,GAAG,QAAQ,QAAQ,WAAW,GAAE,+TAAmB,CAAC,SAAS;QAC3D,IAAI;IACN,GAAG,SAAS,MAAM,WAAW,GAAE,+TAAmB,CAAC,QAAQ;QACzD,eAAe;QACf,gBAAgB;QAChB,GAAG;IACL;AACF;AACA,MAAM,aAAa,WAAW,GAAG,4TAAgB,CAAC;uCACnC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/node_modules/.pnpm/%40heroicons%2Breact%402.2.0_react%4019.0.0/node_modules/%40heroicons/react/24/outline/esm/ArrowRightIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,eAAe,EACtB,KAAK,EACL,OAAO,EACP,GAAG,OACJ,EAAE,MAAM;IACP,OAAO,WAAW,GAAE,+TAAmB,CAAC,OAAO,OAAO,MAAM,CAAC;QAC3D,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,QAAQ;QACR,eAAe;QACf,aAAa;QACb,KAAK;QACL,mBAAmB;IACrB,GAAG,QAAQ,QAAQ,WAAW,GAAE,+TAAmB,CAAC,SAAS;QAC3D,IAAI;IACN,GAAG,SAAS,MAAM,WAAW,GAAE,+TAAmB,CAAC,QAAQ;QACzD,eAAe;QACf,gBAAgB;QAChB,GAAG;IACL;AACF;AACA,MAAM,aAAa,WAAW,GAAG,4TAAgB,CAAC;uCACnC","ignoreList":[0],"debugId":null}}]
}