{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/account/navigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\n\r\nconst navigationItems = [\r\n  { id: 'profile', label: 'Profile Settings', href: '#profile' },\r\n  { id: 'addresses', label: 'Delivery Addresses', href: '#addresses' },\r\n  { id: 'payments', label: 'Payment Methods', href: '#payments' }\r\n];\r\n\r\nexport default function AccountNavigation() {\r\n  const [activeHash, setActiveHash] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    // Set initial hash\r\n    setActiveHash(window.location.hash || '#profile');\r\n\r\n    // Update on hash change\r\n    const handleHashChange = () => {\r\n      setActiveHash(window.location.hash || '#profile');\r\n    };\r\n\r\n    window.addEventListener('hashchange', handleHashChange);\r\n    return () => window.removeEventListener('hashchange', handleHashChange);\r\n  }, []);\r\n\r\n  return (\r\n    <nav className=\"space-y-1\">\r\n      {navigationItems.map((item) => {\r\n        const isActive = activeHash === item.href;\r\n        return (\r\n          <a\r\n            key={item.id}\r\n            href={item.href}\r\n            onClick={() => setActiveHash(item.href)}\r\n            className={clsx(\r\n              'block rounded-lg px-4 py-3 text-sm font-medium transition-colors',\r\n              isActive\r\n                ? 'bg-neutral-100 text-black dark:bg-neutral-800 dark:text-white'\r\n                : 'text-neutral-600 hover:bg-neutral-50 hover:text-black dark:text-neutral-400 dark:hover:bg-neutral-800 dark:hover:text-white'\r\n            )}\r\n          >\r\n            {item.label}\r\n          </a>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,kBAAkB;IACtB;QAAE,IAAI;QAAW,OAAO;QAAoB,MAAM;IAAW;IAC7D;QAAE,IAAI;QAAa,OAAO;QAAsB,MAAM;IAAa;IACnE;QAAE,IAAI;QAAY,OAAO;QAAmB,MAAM;IAAY;CAC/D;AAEc,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0TAAQ,EAAS;IAErD,IAAA,2TAAS,EAAC;QACR,mBAAmB;QACnB,cAAc,OAAO,QAAQ,CAAC,IAAI,IAAI;QAEtC,wBAAwB;QACxB,MAAM,mBAAmB;YACvB,cAAc,OAAO,QAAQ,CAAC,IAAI,IAAI;QACxC;QAEA,OAAO,gBAAgB,CAAC,cAAc;QACtC,OAAO,IAAM,OAAO,mBAAmB,CAAC,cAAc;IACxD,GAAG,EAAE;IAEL,qBACE,uVAAC;QAAI,WAAU;kBACZ,gBAAgB,GAAG,CAAC,CAAC;YACpB,MAAM,WAAW,eAAe,KAAK,IAAI;YACzC,qBACE,uVAAC;gBAEC,MAAM,KAAK,IAAI;gBACf,SAAS,IAAM,cAAc,KAAK,IAAI;gBACtC,WAAW,IAAA,iMAAI,EACb,oEACA,WACI,kEACA;0BAGL,KAAK,KAAK;eAVN,KAAK,EAAE;;;;;QAalB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/account/profile-settings.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useTransition } from 'react';\r\nimport { User } from 'lib/demo/user';\r\nimport { updateDemoUser } from 'lib/demo/user';\r\nimport { toast } from 'sonner';\r\n\r\ninterface ProfileSettingsProps {\r\n  user: User;\r\n}\r\n\r\nexport default function ProfileSettings({ user: initialUser }: ProfileSettingsProps) {\r\n  const [user, setUser] = useState(initialUser);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const updates = {\r\n      name: formData.get('name') as string,\r\n      email: formData.get('email') as string,\r\n      phone: formData.get('phone') as string\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/account/profile', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(updates)\r\n        });\r\n\r\n        if (response.ok) {\r\n          const updatedUser = await response.json();\r\n          setUser(updatedUser);\r\n          toast.success('Profile updated successfully');\r\n        } else {\r\n          toast.error('Failed to update profile');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section id=\"profile\" className=\"scroll-mt-8\">\r\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-black\">\r\n        <h2 className=\"mb-6 text-xl font-semibold\">Profile Settings</h2>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div>\r\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300\">\r\n              Full Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              defaultValue={user.name}\r\n              required\r\n              className=\"mt-1 block w-full rounded-md border border-neutral-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300\">\r\n              Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              defaultValue={user.email}\r\n              required\r\n              className=\"mt-1 block w-full rounded-md border border-neutral-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"phone\" className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300\">\r\n              Phone Number\r\n            </label>\r\n            <input\r\n              type=\"tel\"\r\n              id=\"phone\"\r\n              name=\"phone\"\r\n              defaultValue={user.phone}\r\n              required\r\n              className=\"mt-1 block w-full rounded-md border border-neutral-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-900\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isPending}\r\n              className=\"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50\"\r\n            >\r\n              {isPending ? 'Saving...' : 'Save Changes'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAGA;AALA;;;;AAWe,SAAS,gBAAgB,EAAE,MAAM,WAAW,EAAwB;IACjF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,0TAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,+TAAa;IAElD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAE7C,MAAM,UAAU;YACd,MAAM,SAAS,GAAG,CAAC;YACnB,OAAO,SAAS,GAAG,CAAC;YACpB,OAAO,SAAS,GAAG,CAAC;QACtB;QAEA,gBAAgB;YACd,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,wBAAwB;oBACnD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,cAAc,MAAM,SAAS,IAAI;oBACvC,QAAQ;oBACR,iRAAK,CAAC,OAAO,CAAC;gBAChB,OAAO;oBACL,iRAAK,CAAC,KAAK,CAAC;gBACd;YACF,EAAE,OAAO,OAAO;gBACd,iRAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;IAEA,qBACE,uVAAC;QAAQ,IAAG;QAAU,WAAU;kBAC9B,cAAA,uVAAC;YAAI,WAAU;;8BACb,uVAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAE3C,uVAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,uVAAC;;8CACC,uVAAC;oCAAM,SAAQ;oCAAO,WAAU;8CAAmE;;;;;;8CAGnG,uVAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,cAAc,KAAK,IAAI;oCACvB,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,uVAAC;;8CACC,uVAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAAmE;;;;;;8CAGpG,uVAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,cAAc,KAAK,KAAK;oCACxB,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,uVAAC;;8CACC,uVAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAAmE;;;;;;8CAGpG,uVAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,cAAc,KAAK,KAAK;oCACxB,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,uVAAC;4BAAI,WAAU;sCACb,cAAA,uVAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzC","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/account/delivery-addresses.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useTransition, useEffect } from 'react';\r\nimport { DeliveryAddress } from 'lib/demo/user';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function DeliveryAddresses() {\r\n  const [addresses, setAddresses] = useState<DeliveryAddress[]>([]);\r\n  const [isPending, startTransition] = useTransition();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadAddresses();\r\n  }, []);\r\n\r\n  const loadAddresses = async () => {\r\n    try {\r\n      const response = await fetch('/api/account/addresses');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setAddresses(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load addresses:', error);\r\n    }\r\n  };\r\n\r\n  const handleAdd = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const newAddress: Omit<DeliveryAddress, 'id'> = {\r\n      label: formData.get('label') as string,\r\n      fullName: formData.get('fullName') as string,\r\n      phone: formData.get('phone') as string,\r\n      addressLine1: formData.get('addressLine1') as string,\r\n      addressLine2: formData.get('addressLine2') as string || undefined,\r\n      city: formData.get('city') as string,\r\n      state: formData.get('state') as string || undefined,\r\n      postalCode: formData.get('postalCode') as string,\r\n      country: formData.get('country') as string,\r\n      isDefault: formData.get('isDefault') === 'on'\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/account/addresses', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(newAddress)\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadAddresses();\r\n          setShowAddForm(false);\r\n          toast.success('Address added successfully');\r\n        } else {\r\n          toast.error('Failed to add address');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleEdit = async (id: string, e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const updates: Partial<DeliveryAddress> = {\r\n      label: formData.get('label') as string,\r\n      fullName: formData.get('fullName') as string,\r\n      phone: formData.get('phone') as string,\r\n      addressLine1: formData.get('addressLine1') as string,\r\n      addressLine2: formData.get('addressLine2') as string || undefined,\r\n      city: formData.get('city') as string,\r\n      state: formData.get('state') as string || undefined,\r\n      postalCode: formData.get('postalCode') as string,\r\n      country: formData.get('country') as string,\r\n      isDefault: formData.get('isDefault') === 'on'\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/addresses/${id}`, {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(updates)\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadAddresses();\r\n          setEditingId(null);\r\n          toast.success('Address updated successfully');\r\n        } else {\r\n          toast.error('Failed to update address');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm('Are you sure you want to delete this address?')) return;\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/addresses/${id}`, {\r\n          method: 'DELETE'\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadAddresses();\r\n          toast.success('Address deleted successfully');\r\n        } else {\r\n          toast.error('Failed to delete address');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSetDefault = async (id: string) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/addresses/${id}/default`, {\r\n          method: 'POST'\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadAddresses();\r\n          toast.success('Default address updated');\r\n        } else {\r\n          toast.error('Failed to set default address');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section id=\"addresses\" className=\"scroll-mt-8\">\r\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-black\">\r\n        <div className=\"mb-6 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-semibold\">Delivery Addresses</h2>\r\n          <button\r\n            onClick={() => setShowAddForm(!showAddForm)}\r\n            className=\"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700\"\r\n          >\r\n            {showAddForm ? 'Cancel' : '+ Add Address'}\r\n          </button>\r\n        </div>\r\n\r\n        {showAddForm && (\r\n          <form onSubmit={handleAdd} className=\"mb-6 space-y-4 rounded-lg border border-neutral-200 p-4 dark:border-neutral-700\">\r\n            <h3 className=\"font-medium\">Add New Address</h3>\r\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Label (Home, Work, etc.)</label>\r\n                <input type=\"text\" name=\"label\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Full Name</label>\r\n                <input type=\"text\" name=\"fullName\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Phone</label>\r\n                <input type=\"tel\" name=\"phone\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Country</label>\r\n                <input type=\"text\" name=\"country\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div className=\"sm:col-span-2\">\r\n                <label className=\"block text-sm font-medium\">Address Line 1</label>\r\n                <input type=\"text\" name=\"addressLine1\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div className=\"sm:col-span-2\">\r\n                <label className=\"block text-sm font-medium\">Address Line 2 (Optional)</label>\r\n                <input type=\"text\" name=\"addressLine2\" className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">City</label>\r\n                <input type=\"text\" name=\"city\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">State/Province</label>\r\n                <input type=\"text\" name=\"state\" className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Postal Code</label>\r\n                <input type=\"text\" name=\"postalCode\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <input type=\"checkbox\" name=\"isDefault\" id=\"new-isDefault\" className=\"mr-2\" />\r\n                <label htmlFor=\"new-isDefault\" className=\"text-sm\">Set as default address</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowAddForm(false)}\r\n                className=\"rounded-md border px-4 py-2 text-sm\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" disabled={isPending} className=\"rounded-md bg-blue-600 px-4 py-2 text-sm text-white disabled:opacity-50\">\r\n                {isPending ? 'Adding...' : 'Add Address'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n\r\n        <div className=\"space-y-4\">\r\n          {addresses.length === 0 ? (\r\n            <p className=\"text-sm text-neutral-500\">No addresses saved yet.</p>\r\n          ) : (\r\n            addresses.map((address) => (\r\n              <div\r\n                key={address.id}\r\n                className=\"rounded-lg border border-neutral-200 p-4 dark:border-neutral-700\"\r\n              >\r\n                {editingId === address.id ? (\r\n                  <form onSubmit={(e) => handleEdit(address.id, e)} className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Label</label>\r\n                        <input type=\"text\" name=\"label\" defaultValue={address.label} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Full Name</label>\r\n                        <input type=\"text\" name=\"fullName\" defaultValue={address.fullName} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Phone</label>\r\n                        <input type=\"tel\" name=\"phone\" defaultValue={address.phone} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Country</label>\r\n                        <input type=\"text\" name=\"country\" defaultValue={address.country} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div className=\"sm:col-span-2\">\r\n                        <label className=\"block text-sm font-medium\">Address Line 1</label>\r\n                        <input type=\"text\" name=\"addressLine1\" defaultValue={address.addressLine1} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div className=\"sm:col-span-2\">\r\n                        <label className=\"block text-sm font-medium\">Address Line 2</label>\r\n                        <input type=\"text\" name=\"addressLine2\" defaultValue={address.addressLine2} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">City</label>\r\n                        <input type=\"text\" name=\"city\" defaultValue={address.city} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">State</label>\r\n                        <input type=\"text\" name=\"state\" defaultValue={address.state} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Postal Code</label>\r\n                        <input type=\"text\" name=\"postalCode\" defaultValue={address.postalCode} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <input type=\"checkbox\" name=\"isDefault\" id={`isDefault-${address.id}`} defaultChecked={address.isDefault} className=\"mr-2\" />\r\n                        <label htmlFor={`isDefault-${address.id}`} className=\"text-sm\">Set as default</label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setEditingId(null)}\r\n                        className=\"rounded-md border px-4 py-2 text-sm\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                      <button type=\"submit\" disabled={isPending} className=\"rounded-md bg-blue-600 px-4 py-2 text-sm text-white disabled:opacity-50\">\r\n                        {isPending ? 'Saving...' : 'Save'}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <h3 className=\"font-medium\">{address.label}</h3>\r\n                          {address.isDefault && (\r\n                            <span className=\"rounded-full bg-blue-100 px-2 py-0.5 text-xs text-blue-800 dark:bg-blue-900 dark:text-blue-200\">\r\n                              Default\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"mt-1 text-sm text-neutral-600 dark:text-neutral-400\">\r\n                          {address.fullName}\r\n                        </p>\r\n                        <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">\r\n                          {address.phone}\r\n                        </p>\r\n                        <p className=\"mt-2 text-sm text-neutral-600 dark:text-neutral-400\">\r\n                          {address.addressLine1}\r\n                          {address.addressLine2 && `, ${address.addressLine2}`}\r\n                        </p>\r\n                        <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">\r\n                          {address.city}\r\n                          {address.state && `, ${address.state}`} {address.postalCode}\r\n                        </p>\r\n                        <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">{address.country}</p>\r\n                      </div>\r\n                      <div className=\"ml-4 flex flex-col gap-2\">\r\n                        {!address.isDefault && (\r\n                          <button\r\n                            onClick={() => handleSetDefault(address.id)}\r\n                            className=\"text-xs text-blue-600 hover:underline\"\r\n                          >\r\n                            Set Default\r\n                          </button>\r\n                        )}\r\n                        <button\r\n                          onClick={() => setEditingId(address.id)}\r\n                          className=\"text-xs text-blue-600 hover:underline\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(address.id)}\r\n                          className=\"text-xs text-red-600 hover:underline\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/account/payment-methods.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useTransition, useEffect } from 'react';\r\nimport { PaymentMethod } from 'lib/demo/user';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function PaymentMethods() {\r\n  const [methods, setMethods] = useState<PaymentMethod[]>([]);\r\n  const [isPending, startTransition] = useTransition();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadMethods();\r\n  }, []);\r\n\r\n  const loadMethods = async () => {\r\n    try {\r\n      const response = await fetch('/api/account/payment-methods');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMethods(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load payment methods:', error);\r\n    }\r\n  };\r\n\r\n  const handleAdd = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const newMethod: Omit<PaymentMethod, 'id'> = {\r\n      type: formData.get('type') as PaymentMethod['type'],\r\n      label: formData.get('label') as string,\r\n      isDefault: formData.get('isDefault') === 'on',\r\n      expiryDate: formData.get('expiryDate') as string || undefined,\r\n      cardholderName: formData.get('cardholderName') as string || undefined,\r\n      brand: formData.get('brand') as string || undefined\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch('/api/account/payment-methods', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(newMethod)\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadMethods();\r\n          setShowAddForm(false);\r\n          toast.success('Payment method added successfully');\r\n        } else {\r\n          toast.error('Failed to add payment method');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleEdit = async (id: string, e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const updates: Partial<PaymentMethod> = {\r\n      label: formData.get('label') as string,\r\n      expiryDate: formData.get('expiryDate') as string || undefined,\r\n      cardholderName: formData.get('cardholderName') as string || undefined,\r\n      brand: formData.get('brand') as string || undefined,\r\n      isDefault: formData.get('isDefault') === 'on'\r\n    };\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/payment-methods/${id}`, {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(updates)\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadMethods();\r\n          setEditingId(null);\r\n          toast.success('Payment method updated successfully');\r\n        } else {\r\n          toast.error('Failed to update payment method');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm('Are you sure you want to delete this payment method?')) return;\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/payment-methods/${id}`, {\r\n          method: 'DELETE'\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadMethods();\r\n          toast.success('Payment method deleted successfully');\r\n        } else {\r\n          toast.error('Failed to delete payment method');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSetDefault = async (id: string) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/account/payment-methods/${id}/default`, {\r\n          method: 'POST'\r\n        });\r\n\r\n        if (response.ok) {\r\n          await loadMethods();\r\n          toast.success('Default payment method updated');\r\n        } else {\r\n          toast.error('Failed to set default payment method');\r\n        }\r\n      } catch (error) {\r\n        toast.error('An error occurred');\r\n      }\r\n    });\r\n  };\r\n\r\n  const getCardIcon = (brand?: string) => {\r\n    switch (brand?.toLowerCase()) {\r\n      case 'visa':\r\n        return 'ðŸ’³';\r\n      case 'mastercard':\r\n        return 'ðŸ’³';\r\n      case 'amex':\r\n        return 'ðŸ’³';\r\n      default:\r\n        return 'ðŸ’³';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section id=\"payments\" className=\"scroll-mt-8\">\r\n      <div className=\"rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-black\">\r\n        <div className=\"mb-6 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-semibold\">Payment Methods</h2>\r\n          <button\r\n            onClick={() => setShowAddForm(!showAddForm)}\r\n            className=\"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700\"\r\n          >\r\n            {showAddForm ? 'Cancel' : '+ Add Payment Method'}\r\n          </button>\r\n        </div>\r\n\r\n        {showAddForm && (\r\n          <form onSubmit={handleAdd} className=\"mb-6 space-y-4 rounded-lg border border-neutral-200 p-4 dark:border-neutral-700\">\r\n            <h3 className=\"font-medium\">Add New Payment Method</h3>\r\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Type</label>\r\n                <select name=\"type\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\">\r\n                  <option value=\"card\">Credit/Debit Card</option>\r\n                  <option value=\"paypal\">PayPal</option>\r\n                  <option value=\"apple_pay\">Apple Pay</option>\r\n                  <option value=\"google_pay\">Google Pay</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Card Number (Last 4 digits)</label>\r\n                <input type=\"text\" name=\"label\" placeholder=\"**** **** **** 1234\" required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Cardholder Name</label>\r\n                <input type=\"text\" name=\"cardholderName\" className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Expiry Date (MM/YY)</label>\r\n                <input type=\"text\" name=\"expiryDate\" placeholder=\"12/25\" className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Brand</label>\r\n                <select name=\"brand\" className=\"mt-1 block w-full rounded-md border px-3 py-2\">\r\n                  <option value=\"\">Select brand</option>\r\n                  <option value=\"Visa\">Visa</option>\r\n                  <option value=\"Mastercard\">Mastercard</option>\r\n                  <option value=\"Amex\">American Express</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <input type=\"checkbox\" name=\"isDefault\" id=\"new-pm-default\" className=\"mr-2\" />\r\n                <label htmlFor=\"new-pm-default\" className=\"text-sm\">Set as default payment method</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowAddForm(false)}\r\n                className=\"rounded-md border px-4 py-2 text-sm\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" disabled={isPending} className=\"rounded-md bg-blue-600 px-4 py-2 text-sm text-white disabled:opacity-50\">\r\n                {isPending ? 'Adding...' : 'Add Payment Method'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n\r\n        <div className=\"space-y-4\">\r\n          {methods.length === 0 ? (\r\n            <p className=\"text-sm text-neutral-500\">No payment methods saved yet.</p>\r\n          ) : (\r\n            methods.map((method) => (\r\n              <div\r\n                key={method.id}\r\n                className=\"rounded-lg border border-neutral-200 p-4 dark:border-neutral-700\"\r\n              >\r\n                {editingId === method.id ? (\r\n                  <form onSubmit={(e) => handleEdit(method.id, e)} className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Card Number (Last 4)</label>\r\n                        <input type=\"text\" name=\"label\" defaultValue={method.label} required className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Cardholder Name</label>\r\n                        <input type=\"text\" name=\"cardholderName\" defaultValue={method.cardholderName} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Expiry Date</label>\r\n                        <input type=\"text\" name=\"expiryDate\" defaultValue={method.expiryDate} className=\"mt-1 block w-full rounded-md border px-3 py-2\" />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium\">Brand</label>\r\n                        <select name=\"brand\" defaultValue={method.brand} className=\"mt-1 block w-full rounded-md border px-3 py-2\">\r\n                          <option value=\"\">Select brand</option>\r\n                          <option value=\"Visa\">Visa</option>\r\n                          <option value=\"Mastercard\">Mastercard</option>\r\n                          <option value=\"Amex\">American Express</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <input type=\"checkbox\" name=\"isDefault\" id={`pm-default-${method.id}`} defaultChecked={method.isDefault} className=\"mr-2\" />\r\n                        <label htmlFor={`pm-default-${method.id}`} className=\"text-sm\">Set as default</label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setEditingId(null)}\r\n                        className=\"rounded-md border px-4 py-2 text-sm\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                      <button type=\"submit\" disabled={isPending} className=\"rounded-md bg-blue-600 px-4 py-2 text-sm text-white disabled:opacity-50\">\r\n                        {isPending ? 'Saving...' : 'Save'}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className=\"text-2xl\">{getCardIcon(method.brand)}</span>\r\n                          <h3 className=\"font-medium\">\r\n                            {method.type === 'card' ? `${method.brand || 'Card'} ${method.label}` : method.type}\r\n                          </h3>\r\n                          {method.isDefault && (\r\n                            <span className=\"rounded-full bg-blue-100 px-2 py-0.5 text-xs text-blue-800 dark:bg-blue-900 dark:text-blue-200\">\r\n                              Default\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {method.cardholderName && (\r\n                          <p className=\"mt-1 text-sm text-neutral-600 dark:text-neutral-400\">\r\n                            {method.cardholderName}\r\n                          </p>\r\n                        )}\r\n                        {method.expiryDate && (\r\n                          <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">\r\n                            Expires {method.expiryDate}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"ml-4 flex flex-col gap-2\">\r\n                        {!method.isDefault && (\r\n                          <button\r\n                            onClick={() => handleSetDefault(method.id)}\r\n                            className=\"text-xs text-blue-600 hover:underline\"\r\n                          >\r\n                            Set Default\r\n                          </button>\r\n                        )}\r\n                        <button\r\n                          onClick={() => setEditingId(method.id)}\r\n                          className=\"text-xs text-blue-600 hover:underline\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(method.id)}\r\n                          className=\"text-xs text-red-600 hover:underline\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}