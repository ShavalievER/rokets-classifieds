{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/cart-context.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CartProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/cart-context.tsx <module evaluation>\",\n    \"CartProvider\",\n);\nexport const useCart = registerClientReference(\n    function() { throw new Error(\"Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/cart-context.tsx <module evaluation>\",\n    \"useCart\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,iXAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kEACA;AAEG,MAAM,UAAU,IAAA,iXAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/cart-context.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CartProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/cart-context.tsx\",\n    \"CartProvider\",\n);\nexport const useCart = registerClientReference(\n    function() { throw new Error(\"Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/cart-context.tsx\",\n    \"useCart\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,iXAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8CACA;AAEG,MAAM,UAAU,IAAA,iXAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/cart/modal.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/modal.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/cart/modal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/cart/modal.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/cart/modal.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/icons/logo.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/icons/logo.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/icons/logo.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/icons/logo.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/icons/logo.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/icons/logo.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/logo-square.tsx"],"sourcesContent":["import clsx from 'clsx';\r\nimport LogoIcon from './icons/logo';\r\n\r\nexport default function LogoSquare({ size }: { size?: 'sm' | undefined }) {\r\n  // Rectangular area for logo, без рамки и собственного фона.\r\n  // Фон наследуется от шапки/футера\r\n  const containerClasses = clsx('flex flex-none items-center justify-center overflow-hidden', {\r\n    'h-[48px] w-[160px]': !size, // шапка - нормальный размер\r\n    'h-[36px] w-[120px]': size === 'sm' // футер - немного меньше\r\n  });\r\n\r\n  return (\r\n    <div className={containerClasses}>\r\n      <LogoIcon className=\"h-full w-auto object-contain\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,WAAW,EAAE,IAAI,EAA+B;IACtE,4DAA4D;IAC5D,kCAAkC;IAClC,MAAM,mBAAmB,IAAA,iMAAI,EAAC,8DAA8D;QAC1F,sBAAsB,CAAC;QACvB,sBAAsB,SAAS,KAAK,yBAAyB;IAC/D;IAEA,qBACE,uVAAC;QAAI,WAAW;kBACd,cAAA,uVAAC,uIAAQ;YAAC,WAAU;;;;;;;;;;;AAG1B","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/constants.ts"],"sourcesContent":["export type SortFilterItem = {\r\n  title: string;\r\n  slug: string | null;\r\n  sortKey: 'RELEVANCE' | 'BEST_SELLING' | 'CREATED_AT' | 'PRICE';\r\n  reverse: boolean;\r\n};\r\n\r\nexport const defaultSort: SortFilterItem = {\r\n  title: 'Relevance',\r\n  slug: null,\r\n  sortKey: 'RELEVANCE',\r\n  reverse: false\r\n};\r\n\r\nexport const sorting: SortFilterItem[] = [\r\n  defaultSort,\r\n  { title: 'Trending', slug: 'trending-desc', sortKey: 'BEST_SELLING', reverse: false }, // asc\r\n  { title: 'Latest arrivals', slug: 'latest-desc', sortKey: 'CREATED_AT', reverse: true },\r\n  { title: 'Price: Low to high', slug: 'price-asc', sortKey: 'PRICE', reverse: false }, // asc\r\n  { title: 'Price: High to low', slug: 'price-desc', sortKey: 'PRICE', reverse: true }\r\n];\r\n\r\nexport const TAGS = {\r\n  collections: 'collections',\r\n  products: 'products',\r\n  cart: 'cart'\r\n};\r\n\r\nexport const HIDDEN_PRODUCT_TAG = 'nextjs-frontend-hidden';\r\nexport const DEFAULT_OPTION = 'Default Title';\r\nexport const SHOPIFY_GRAPHQL_API_ENDPOINT = '/api/2023-01/graphql.json';\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAOO,MAAM,cAA8B;IACzC,OAAO;IACP,MAAM;IACN,SAAS;IACT,SAAS;AACX;AAEO,MAAM,UAA4B;IACvC;IACA;QAAE,OAAO;QAAY,MAAM;QAAiB,SAAS;QAAgB,SAAS;IAAM;IACpF;QAAE,OAAO;QAAmB,MAAM;QAAe,SAAS;QAAc,SAAS;IAAK;IACtF;QAAE,OAAO;QAAsB,MAAM;QAAa,SAAS;QAAS,SAAS;IAAM;IACnF;QAAE,OAAO;QAAsB,MAAM;QAAc,SAAS;QAAS,SAAS;IAAK;CACpF;AAEM,MAAM,OAAO;IAClB,aAAa;IACb,UAAU;IACV,MAAM;AACR;AAEO,MAAM,qBAAqB;AAC3B,MAAM,iBAAiB;AACvB,MAAM,+BAA+B","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/type-guards.ts"],"sourcesContent":["export interface ShopifyErrorLike {\r\n  status: number;\r\n  message: Error;\r\n  cause?: Error;\r\n}\r\n\r\nexport const isObject = (object: unknown): object is Record<string, unknown> => {\r\n  return typeof object === 'object' && object !== null && !Array.isArray(object);\r\n};\r\n\r\nexport const isShopifyError = (error: unknown): error is ShopifyErrorLike => {\r\n  if (!isObject(error)) return false;\r\n\r\n  if (error instanceof Error) return true;\r\n\r\n  return findError(error);\r\n};\r\n\r\nfunction findError<T extends object>(error: T): boolean {\r\n  if (Object.prototype.toString.call(error) === '[object Error]') {\r\n    return true;\r\n  }\r\n\r\n  const prototype = Object.getPrototypeOf(error) as T | null;\r\n\r\n  return prototype === null ? false : findError(prototype);\r\n}\r\n"],"names":[],"mappings":";;;;;;AAMO,MAAM,WAAW,CAAC;IACvB,OAAO,OAAO,WAAW,YAAY,WAAW,QAAQ,CAAC,MAAM,OAAO,CAAC;AACzE;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,CAAC,SAAS,QAAQ,OAAO;IAE7B,IAAI,iBAAiB,OAAO,OAAO;IAEnC,OAAO,UAAU;AACnB;AAEA,SAAS,UAA4B,KAAQ;IAC3C,IAAI,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,kBAAkB;QAC9D,OAAO;IACT;IAEA,MAAM,YAAY,OAAO,cAAc,CAAC;IAExC,OAAO,cAAc,OAAO,QAAQ,UAAU;AAChD","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/utils.ts"],"sourcesContent":["import { ReadonlyURLSearchParams } from 'next/navigation';\r\n\r\nexport const baseUrl = process.env.VERCEL_PROJECT_PRODUCTION_URL\r\n  ? `https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}`\r\n  : 'http://localhost:3000';\r\n\r\nexport const createUrl = (\r\n  pathname: string,\r\n  params: URLSearchParams | ReadonlyURLSearchParams\r\n) => {\r\n  const paramsString = params.toString();\r\n  const queryString = `${paramsString.length ? '?' : ''}${paramsString}`;\r\n\r\n  return `${pathname}${queryString}`;\r\n};\r\n\r\nexport const ensureStartsWith = (stringToCheck: string, startsWith: string) =>\r\n  stringToCheck.startsWith(startsWith)\r\n    ? stringToCheck\r\n    : `${startsWith}${stringToCheck}`;\r\n\r\nexport const validateEnvironmentVariables = () => {\r\n  const requiredEnvironmentVariables = [\r\n    'SHOPIFY_STORE_DOMAIN',\r\n    'SHOPIFY_STOREFRONT_ACCESS_TOKEN'\r\n  ];\r\n  const missingEnvironmentVariables = [] as string[];\r\n\r\n  requiredEnvironmentVariables.forEach((envVar) => {\r\n    if (!process.env[envVar]) {\r\n      missingEnvironmentVariables.push(envVar);\r\n    }\r\n  });\r\n\r\n  if (missingEnvironmentVariables.length) {\r\n    throw new Error(\r\n      `The following environment variables are missing. Your site will not work without them. Read more: https://vercel.com/docs/integrations/shopify#configure-environment-variables\\n\\n${missingEnvironmentVariables.join(\r\n        '\\n'\r\n      )}\\n`\r\n    );\r\n  }\r\n\r\n  if (\r\n    process.env.SHOPIFY_STORE_DOMAIN?.includes('[') ||\r\n    process.env.SHOPIFY_STORE_DOMAIN?.includes(']')\r\n  ) {\r\n    throw new Error(\r\n      'Your `SHOPIFY_STORE_DOMAIN` environment variable includes brackets (ie. `[` and / or `]`). Your site will not work with them there. Please remove them.'\r\n    );\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,UAAU,QAAQ,GAAG,CAAC,6BAA6B,GAC5D,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,6BAA6B,EAAE,GACtD;AAEG,MAAM,YAAY,CACvB,UACA;IAEA,MAAM,eAAe,OAAO,QAAQ;IACpC,MAAM,cAAc,GAAG,aAAa,MAAM,GAAG,MAAM,KAAK,cAAc;IAEtE,OAAO,GAAG,WAAW,aAAa;AACpC;AAEO,MAAM,mBAAmB,CAAC,eAAuB,aACtD,cAAc,UAAU,CAAC,cACrB,gBACA,GAAG,aAAa,eAAe;AAE9B,MAAM,+BAA+B;IAC1C,MAAM,+BAA+B;QACnC;QACA;KACD;IACD,MAAM,8BAA8B,EAAE;IAEtC,6BAA6B,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,CAAC,OAAO,EAAE;YACxB,4BAA4B,IAAI,CAAC;QACnC;IACF;IAEA,IAAI,4BAA4B,MAAM,EAAE;QACtC,MAAM,IAAI,MACR,CAAC,kLAAkL,EAAE,4BAA4B,IAAI,CACnN,MACA,EAAE,CAAC;IAET;IAEA,IACE,QAAQ,GAAG,CAAC,oBAAoB,EAAE,SAAS,QAC3C,QAAQ,GAAG,CAAC,oBAAoB,EAAE,SAAS,MAC3C;QACA,MAAM,IAAI,MACR;IAEJ;AACF","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/fragments/image.ts"],"sourcesContent":["const imageFragment = /* GraphQL */ `\r\n  fragment image on Image {\r\n    url\r\n    altText\r\n    width\r\n    height\r\n  }\r\n`;\r\n\r\nexport default imageFragment;\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,gBAAgB,WAAW,GAAG,CAAC;;;;;;;AAOrC,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/fragments/seo.ts"],"sourcesContent":["const seoFragment = /* GraphQL */ `\r\n  fragment seo on SEO {\r\n    description\r\n    title\r\n  }\r\n`;\r\n\r\nexport default seoFragment;\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,cAAc,WAAW,GAAG,CAAC;;;;;AAKnC,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/fragments/product.ts"],"sourcesContent":["import imageFragment from './image';\r\nimport seoFragment from './seo';\r\n\r\nconst productFragment = /* GraphQL */ `\r\n  fragment product on Product {\r\n    id\r\n    handle\r\n    availableForSale\r\n    title\r\n    description\r\n    descriptionHtml\r\n    options {\r\n      id\r\n      name\r\n      values\r\n    }\r\n    priceRange {\r\n      maxVariantPrice {\r\n        amount\r\n        currencyCode\r\n      }\r\n      minVariantPrice {\r\n        amount\r\n        currencyCode\r\n      }\r\n    }\r\n    variants(first: 250) {\r\n      edges {\r\n        node {\r\n          id\r\n          title\r\n          availableForSale\r\n          selectedOptions {\r\n            name\r\n            value\r\n          }\r\n          price {\r\n            amount\r\n            currencyCode\r\n          }\r\n        }\r\n      }\r\n    }\r\n    featuredImage {\r\n      ...image\r\n    }\r\n    images(first: 20) {\r\n      edges {\r\n        node {\r\n          ...image\r\n        }\r\n      }\r\n    }\r\n    seo {\r\n      ...seo\r\n    }\r\n    tags\r\n    updatedAt\r\n  }\r\n  ${imageFragment}\r\n  ${seoFragment}\r\n`;\r\n\r\nexport default productFragment;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,kBAAkB,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAwDrC,EAAE,+IAAa,CAAC;EAChB,EAAE,6IAAW,CAAC;AAChB,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/fragments/cart.ts"],"sourcesContent":["import productFragment from './product';\r\n\r\nconst cartFragment = /* GraphQL */ `\r\n  fragment cart on Cart {\r\n    id\r\n    checkoutUrl\r\n    cost {\r\n      subtotalAmount {\r\n        amount\r\n        currencyCode\r\n      }\r\n      totalAmount {\r\n        amount\r\n        currencyCode\r\n      }\r\n      totalTaxAmount {\r\n        amount\r\n        currencyCode\r\n      }\r\n    }\r\n    lines(first: 100) {\r\n      edges {\r\n        node {\r\n          id\r\n          quantity\r\n          cost {\r\n            totalAmount {\r\n              amount\r\n              currencyCode\r\n            }\r\n          }\r\n          merchandise {\r\n            ... on ProductVariant {\r\n              id\r\n              title\r\n              selectedOptions {\r\n                name\r\n                value\r\n              }\r\n              product {\r\n                ...product\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    totalQuantity\r\n  }\r\n  ${productFragment}\r\n`;\r\n\r\nexport default cartFragment;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+ClC,EAAE,iJAAe,CAAC;AACpB,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/mutations/cart.ts"],"sourcesContent":["import cartFragment from '../fragments/cart';\r\n\r\nexport const addToCartMutation = /* GraphQL */ `\r\n  mutation addToCart($cartId: ID!, $lines: [CartLineInput!]!) {\r\n    cartLinesAdd(cartId: $cartId, lines: $lines) {\r\n      cart {\r\n        ...cart\r\n      }\r\n    }\r\n  }\r\n  ${cartFragment}\r\n`;\r\n\r\nexport const createCartMutation = /* GraphQL */ `\r\n  mutation createCart($lineItems: [CartLineInput!]) {\r\n    cartCreate(input: { lines: $lineItems }) {\r\n      cart {\r\n        ...cart\r\n      }\r\n    }\r\n  }\r\n  ${cartFragment}\r\n`;\r\n\r\nexport const editCartItemsMutation = /* GraphQL */ `\r\n  mutation editCartItems($cartId: ID!, $lines: [CartLineUpdateInput!]!) {\r\n    cartLinesUpdate(cartId: $cartId, lines: $lines) {\r\n      cart {\r\n        ...cart\r\n      }\r\n    }\r\n  }\r\n  ${cartFragment}\r\n`;\r\n\r\nexport const removeFromCartMutation = /* GraphQL */ `\r\n  mutation removeFromCart($cartId: ID!, $lineIds: [ID!]!) {\r\n    cartLinesRemove(cartId: $cartId, lineIds: $lineIds) {\r\n      cart {\r\n        ...cart\r\n      }\r\n    }\r\n  }\r\n  ${cartFragment}\r\n`;\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,oBAAoB,WAAW,GAAG,CAAC;;;;;;;;EAQ9C,EAAE,8IAAY,CAAC;AACjB,CAAC;AAEM,MAAM,qBAAqB,WAAW,GAAG,CAAC;;;;;;;;EAQ/C,EAAE,8IAAY,CAAC;AACjB,CAAC;AAEM,MAAM,wBAAwB,WAAW,GAAG,CAAC;;;;;;;;EAQlD,EAAE,8IAAY,CAAC;AACjB,CAAC;AAEM,MAAM,yBAAyB,WAAW,GAAG,CAAC;;;;;;;;EAQnD,EAAE,8IAAY,CAAC;AACjB,CAAC","debugId":null}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/queries/cart.ts"],"sourcesContent":["import cartFragment from '../fragments/cart';\r\n\r\nexport const getCartQuery = /* GraphQL */ `\r\n  query getCart($cartId: ID!) {\r\n    cart(id: $cartId) {\r\n      ...cart\r\n    }\r\n  }\r\n  ${cartFragment}\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,eAAe,WAAW,GAAG,CAAC;;;;;;EAMzC,EAAE,8IAAY,CAAC;AACjB,CAAC","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/queries/collection.ts"],"sourcesContent":["import productFragment from '../fragments/product';\r\nimport seoFragment from '../fragments/seo';\r\n\r\nconst collectionFragment = /* GraphQL */ `\r\n  fragment collection on Collection {\r\n    handle\r\n    title\r\n    description\r\n    seo {\r\n      ...seo\r\n    }\r\n    updatedAt\r\n  }\r\n  ${seoFragment}\r\n`;\r\n\r\nexport const getCollectionQuery = /* GraphQL */ `\r\n  query getCollection($handle: String!) {\r\n    collection(handle: $handle) {\r\n      ...collection\r\n    }\r\n  }\r\n  ${collectionFragment}\r\n`;\r\n\r\nexport const getCollectionsQuery = /* GraphQL */ `\r\n  query getCollections {\r\n    collections(first: 100, sortKey: TITLE) {\r\n      edges {\r\n        node {\r\n          ...collection\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ${collectionFragment}\r\n`;\r\n\r\nexport const getCollectionProductsQuery = /* GraphQL */ `\r\n  query getCollectionProducts(\r\n    $handle: String!\r\n    $sortKey: ProductCollectionSortKeys\r\n    $reverse: Boolean\r\n  ) {\r\n    collection(handle: $handle) {\r\n      products(sortKey: $sortKey, reverse: $reverse, first: 100) {\r\n        edges {\r\n          node {\r\n            ...product\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ${productFragment}\r\n`;\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,MAAM,qBAAqB,WAAW,GAAG,CAAC;;;;;;;;;;EAUxC,EAAE,6IAAW,CAAC;AAChB,CAAC;AAEM,MAAM,qBAAqB,WAAW,GAAG,CAAC;;;;;;EAM/C,EAAE,mBAAmB;AACvB,CAAC;AAEM,MAAM,sBAAsB,WAAW,GAAG,CAAC;;;;;;;;;;EAUhD,EAAE,mBAAmB;AACvB,CAAC;AAEM,MAAM,6BAA6B,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;;EAgBvD,EAAE,iJAAe,CAAC;AACpB,CAAC","debugId":null}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/queries/menu.ts"],"sourcesContent":["export const getMenuQuery = /* GraphQL */ `\r\n  query getMenu($handle: String!) {\r\n    menu(handle: $handle) {\r\n      items {\r\n        title\r\n        url\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,eAAe,WAAW,GAAG,CAAC;;;;;;;;;AAS3C,CAAC","debugId":null}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/queries/page.ts"],"sourcesContent":["import seoFragment from '../fragments/seo';\r\n\r\nconst pageFragment = /* GraphQL */ `\r\n  fragment page on Page {\r\n    ... on Page {\r\n      id\r\n      title\r\n      handle\r\n      body\r\n      bodySummary\r\n      seo {\r\n        ...seo\r\n      }\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n  ${seoFragment}\r\n`;\r\n\r\nexport const getPageQuery = /* GraphQL */ `\r\n  query getPage($handle: String!) {\r\n    pageByHandle(handle: $handle) {\r\n      ...page\r\n    }\r\n  }\r\n  ${pageFragment}\r\n`;\r\n\r\nexport const getPagesQuery = /* GraphQL */ `\r\n  query getPages {\r\n    pages(first: 100) {\r\n      edges {\r\n        node {\r\n          ...page\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ${pageFragment}\r\n`;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,eAAe,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;EAelC,EAAE,6IAAW,CAAC;AAChB,CAAC;AAEM,MAAM,eAAe,WAAW,GAAG,CAAC;;;;;;EAMzC,EAAE,aAAa;AACjB,CAAC;AAEM,MAAM,gBAAgB,WAAW,GAAG,CAAC;;;;;;;;;;EAU1C,EAAE,aAAa;AACjB,CAAC","debugId":null}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/queries/product.ts"],"sourcesContent":["import productFragment from '../fragments/product';\r\n\r\nexport const getProductQuery = /* GraphQL */ `\r\n  query getProduct($handle: String!) {\r\n    product(handle: $handle) {\r\n      ...product\r\n    }\r\n  }\r\n  ${productFragment}\r\n`;\r\n\r\nexport const getProductsQuery = /* GraphQL */ `\r\n  query getProducts($sortKey: ProductSortKeys, $reverse: Boolean, $query: String) {\r\n    products(sortKey: $sortKey, reverse: $reverse, query: $query, first: 100) {\r\n      edges {\r\n        node {\r\n          ...product\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ${productFragment}\r\n`;\r\n\r\nexport const getProductRecommendationsQuery = /* GraphQL */ `\r\n  query getProductRecommendations($productId: ID!) {\r\n    productRecommendations(productId: $productId) {\r\n      ...product\r\n    }\r\n  }\r\n  ${productFragment}\r\n`;\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,MAAM,kBAAkB,WAAW,GAAG,CAAC;;;;;;EAM5C,EAAE,iJAAe,CAAC;AACpB,CAAC;AAEM,MAAM,mBAAmB,WAAW,GAAG,CAAC;;;;;;;;;;EAU7C,EAAE,iJAAe,CAAC;AACpB,CAAC;AAEM,MAAM,iCAAiC,WAAW,GAAG,CAAC;;;;;;EAM3D,EAAE,iJAAe,CAAC;AACpB,CAAC","debugId":null}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/lib/shopify/index.ts"],"sourcesContent":["import {\r\n  HIDDEN_PRODUCT_TAG,\r\n  SHOPIFY_GRAPHQL_API_ENDPOINT,\r\n  TAGS\r\n} from 'lib/constants';\r\nimport { isShopifyError } from 'lib/type-guards';\r\nimport { ensureStartsWith } from 'lib/utils';\r\nimport {\r\n  revalidateTag,\r\n  unstable_cacheTag as cacheTag,\r\n  unstable_cacheLife as cacheLife\r\n} from 'next/cache';\r\nimport { cookies, headers } from 'next/headers';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport {\r\n  addToCartMutation,\r\n  createCartMutation,\r\n  editCartItemsMutation,\r\n  removeFromCartMutation\r\n} from './mutations/cart';\r\nimport { getCartQuery } from './queries/cart';\r\nimport {\r\n  getCollectionProductsQuery,\r\n  getCollectionQuery,\r\n  getCollectionsQuery\r\n} from './queries/collection';\r\nimport { getMenuQuery } from './queries/menu';\r\nimport { getPageQuery, getPagesQuery } from './queries/page';\r\nimport {\r\n  getProductQuery,\r\n  getProductRecommendationsQuery,\r\n  getProductsQuery\r\n} from './queries/product';\r\nimport {\r\n  Cart,\r\n  Collection,\r\n  Connection,\r\n  Image,\r\n  Menu,\r\n  Page,\r\n  Product,\r\n  ShopifyAddToCartOperation,\r\n  ShopifyCart,\r\n  ShopifyCartOperation,\r\n  ShopifyCollection,\r\n  ShopifyCollectionOperation,\r\n  ShopifyCollectionProductsOperation,\r\n  ShopifyCollectionsOperation,\r\n  ShopifyCreateCartOperation,\r\n  ShopifyMenuOperation,\r\n  ShopifyPageOperation,\r\n  ShopifyPagesOperation,\r\n  ShopifyProduct,\r\n  ShopifyProductOperation,\r\n  ShopifyProductRecommendationsOperation,\r\n  ShopifyProductsOperation,\r\n  ShopifyRemoveFromCartOperation,\r\n  ShopifyUpdateCartOperation\r\n} from './types';\r\n\r\nconst domain = process.env.SHOPIFY_STORE_DOMAIN\r\n  ? ensureStartsWith(process.env.SHOPIFY_STORE_DOMAIN, 'https://')\r\n  : '';\r\nconst endpoint = domain ? `${domain}${SHOPIFY_GRAPHQL_API_ENDPOINT}` : '';\r\nconst key = process.env.SHOPIFY_STOREFRONT_ACCESS_TOKEN!;\r\n\r\ntype ExtractVariables<T> = T extends { variables: object }\r\n  ? T['variables']\r\n  : never;\r\n\r\nexport async function shopifyFetch<T>({\r\n  headers,\r\n  query,\r\n  variables\r\n}: {\r\n  headers?: HeadersInit;\r\n  query: string;\r\n  variables?: ExtractVariables<T>;\r\n}): Promise<{ status: number; body: T } | never> {\r\n  try {\r\n    if (!endpoint) {\r\n      throw new Error('SHOPIFY_STORE_DOMAIN environment variable is not set');\r\n    }\r\n\r\n    const result = await fetch(endpoint, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-Shopify-Storefront-Access-Token': key,\r\n        ...headers\r\n      },\r\n      body: JSON.stringify({\r\n        ...(query && { query }),\r\n        ...(variables && { variables })\r\n      })\r\n    });\r\n\r\n    const body = await result.json();\r\n\r\n    if (body.errors) {\r\n      throw body.errors[0];\r\n    }\r\n\r\n    return {\r\n      status: result.status,\r\n      body\r\n    };\r\n  } catch (e) {\r\n    if (isShopifyError(e)) {\r\n      throw {\r\n        cause: e.cause?.toString() || 'unknown',\r\n        status: e.status || 500,\r\n        message: e.message,\r\n        query\r\n      };\r\n    }\r\n\r\n    throw {\r\n      error: e,\r\n      query\r\n    };\r\n  }\r\n}\r\n\r\nconst removeEdgesAndNodes = <T>(array: Connection<T>): T[] => {\r\n  return array.edges.map((edge) => edge?.node);\r\n};\r\n\r\nconst reshapeCart = (cart: ShopifyCart): Cart => {\r\n  if (!cart.cost?.totalTaxAmount) {\r\n    cart.cost.totalTaxAmount = {\r\n      amount: '0.0',\r\n      currencyCode: cart.cost.totalAmount.currencyCode\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...cart,\r\n    lines: removeEdgesAndNodes(cart.lines)\r\n  };\r\n};\r\n\r\nconst reshapeCollection = (\r\n  collection: ShopifyCollection\r\n): Collection | undefined => {\r\n  if (!collection) {\r\n    return undefined;\r\n  }\r\n\r\n  return {\r\n    ...collection,\r\n    path: `/search/${collection.handle}`\r\n  };\r\n};\r\n\r\nconst reshapeCollections = (collections: ShopifyCollection[]) => {\r\n  const reshapedCollections = [];\r\n\r\n  for (const collection of collections) {\r\n    if (collection) {\r\n      const reshapedCollection = reshapeCollection(collection);\r\n\r\n      if (reshapedCollection) {\r\n        reshapedCollections.push(reshapedCollection);\r\n      }\r\n    }\r\n  }\r\n\r\n  return reshapedCollections;\r\n};\r\n\r\nconst reshapeImages = (images: Connection<Image>, productTitle: string) => {\r\n  const flattened = removeEdgesAndNodes(images);\r\n\r\n  return flattened.map((image) => {\r\n    const filename = image.url.match(/.*\\/(.*)\\..*/)?.[1];\r\n    return {\r\n      ...image,\r\n      altText: image.altText || `${productTitle} - ${filename}`\r\n    };\r\n  });\r\n};\r\n\r\nconst reshapeProduct = (\r\n  product: ShopifyProduct,\r\n  filterHiddenProducts: boolean = true\r\n) => {\r\n  if (\r\n    !product ||\r\n    (filterHiddenProducts && product.tags.includes(HIDDEN_PRODUCT_TAG))\r\n  ) {\r\n    return undefined;\r\n  }\r\n\r\n  const { images, variants, ...rest } = product;\r\n\r\n  return {\r\n    ...rest,\r\n    images: reshapeImages(images, product.title),\r\n    variants: removeEdgesAndNodes(variants)\r\n  };\r\n};\r\n\r\nconst reshapeProducts = (products: ShopifyProduct[]) => {\r\n  const reshapedProducts = [];\r\n\r\n  for (const product of products) {\r\n    if (product) {\r\n      const reshapedProduct = reshapeProduct(product);\r\n\r\n      if (reshapedProduct) {\r\n        reshapedProducts.push(reshapedProduct);\r\n      }\r\n    }\r\n  }\r\n\r\n  return reshapedProducts;\r\n};\r\n\r\nexport async function createCart(): Promise<Cart> {\r\n  if (!endpoint) {\r\n    // Используем демо-реализацию корзины\r\n    const { createDemoCart } = await import('lib/demo/cart');\r\n    const cart = await createDemoCart();\r\n    // Cookie уже установлен в createDemoCart\r\n    return cart;\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyCreateCartOperation>({\r\n    query: createCartMutation\r\n  });\r\n\r\n  return reshapeCart(res.body.data.cartCreate.cart);\r\n}\r\n\r\nexport async function addToCart(\r\n  lines: { merchandiseId: string; quantity: number }[],\r\n  deliveryPrice?: number\r\n): Promise<Cart> {\r\n  if (!endpoint) {\r\n    // Используем демо-реализацию корзины\r\n    const { addToDemoCart, createDemoCart } = await import('lib/demo/cart');\r\n    const cookieStore = await cookies();\r\n    let cartId = cookieStore.get('cartId')?.value;\r\n    \r\n    if (!cartId) {\r\n      const newCart = await createDemoCart();\r\n      cartId = newCart.id!;\r\n    }\r\n    \r\n    return addToDemoCart(cartId, lines, deliveryPrice);\r\n  }\r\n\r\n  const cartId = (await cookies()).get('cartId')?.value!;\r\n  const res = await shopifyFetch<ShopifyAddToCartOperation>({\r\n    query: addToCartMutation,\r\n    variables: {\r\n      cartId,\r\n      lines\r\n    }\r\n  });\r\n  return reshapeCart(res.body.data.cartLinesAdd.cart);\r\n}\r\n\r\nexport async function removeFromCart(lineIds: string[]): Promise<Cart> {\r\n  if (!endpoint) {\r\n    // Используем демо-реализацию корзины\r\n    const { removeFromDemoCart } = await import('lib/demo/cart');\r\n    const cartId = (await cookies()).get('cartId')?.value!;\r\n    return removeFromDemoCart(cartId, lineIds);\r\n  }\r\n\r\n  const cartId = (await cookies()).get('cartId')?.value!;\r\n  const res = await shopifyFetch<ShopifyRemoveFromCartOperation>({\r\n    query: removeFromCartMutation,\r\n    variables: {\r\n      cartId,\r\n      lineIds\r\n    }\r\n  });\r\n\r\n  return reshapeCart(res.body.data.cartLinesRemove.cart);\r\n}\r\n\r\nexport async function updateCart(\r\n  lines: { id: string; merchandiseId: string; quantity: number }[]\r\n): Promise<Cart> {\r\n  if (!endpoint) {\r\n    // Используем демо-реализацию корзины\r\n    const { updateDemoCart } = await import('lib/demo/cart');\r\n    const cartId = (await cookies()).get('cartId')?.value!;\r\n    return updateDemoCart(cartId, lines);\r\n  }\r\n\r\n  const cartId = (await cookies()).get('cartId')?.value!;\r\n  const res = await shopifyFetch<ShopifyUpdateCartOperation>({\r\n    query: editCartItemsMutation,\r\n    variables: {\r\n      cartId,\r\n      lines\r\n    }\r\n  });\r\n\r\n  return reshapeCart(res.body.data.cartLinesUpdate.cart);\r\n}\r\n\r\nexport async function getCart(): Promise<Cart | undefined> {\r\n  const cartId = (await cookies()).get('cartId')?.value;\r\n\r\n  if (!cartId) {\r\n    return undefined;\r\n  }\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-реализацию корзины\r\n    const { getDemoCart } = await import('lib/demo/cart');\r\n    return getDemoCart(cartId);\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyCartOperation>({\r\n    query: getCartQuery,\r\n    variables: { cartId }\r\n  });\r\n\r\n  // Old carts becomes `null` when you checkout.\r\n  if (!res.body.data.cart) {\r\n    return undefined;\r\n  }\r\n\r\n  return reshapeCart(res.body.data.cart);\r\n}\r\n\r\nexport async function getCollection(\r\n  handle: string\r\n): Promise<Collection | undefined> {\r\n  'use cache';\r\n  cacheTag(TAGS.collections);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-категории вместо Shopify\r\n    const { getCategoryByHandle, CATEGORY_STRUCTURE } = await import('lib/demo/categories');\r\n    \r\n    // If handle is empty, return \"All Categories\"\r\n    if (!handle) {\r\n      return {\r\n        handle: '',\r\n        title: 'All Categories',\r\n        description: 'All products',\r\n        seo: {\r\n          title: 'All Categories',\r\n          description: 'All products'\r\n        },\r\n        path: '/search',\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n    }\r\n    \r\n    // First try to find main category\r\n    const category = getCategoryByHandle(handle);\r\n    if (category) {\r\n      return {\r\n        handle: category.handle,\r\n        title: category.name,\r\n        description: `${category.name} category`,\r\n        seo: {\r\n          title: category.name,\r\n          description: `${category.name} category`\r\n        },\r\n        path: `/search/${category.handle}`,\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n    }\r\n    \r\n    // If not found, search in all subcategories\r\n    for (const cat of CATEGORY_STRUCTURE) {\r\n      const subcategory = cat.subcategories?.find(sub => sub.handle === handle);\r\n      if (subcategory) {\r\n        return {\r\n          handle: subcategory.handle,\r\n          title: subcategory.name,\r\n          description: `${subcategory.name} in ${cat.name}`,\r\n          seo: {\r\n            title: subcategory.name,\r\n            description: `${subcategory.name} in ${cat.name}`\r\n          },\r\n          path: `/search/${cat.handle}/${subcategory.handle}`,\r\n          updatedAt: new Date().toISOString()\r\n        };\r\n      }\r\n    }\r\n    \r\n    return undefined;\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyCollectionOperation>({\r\n    query: getCollectionQuery,\r\n    variables: {\r\n      handle\r\n    }\r\n  });\r\n\r\n  return reshapeCollection(res.body.data.collection);\r\n}\r\n\r\nexport async function getCollectionProducts({\r\n  collection,\r\n  reverse,\r\n  sortKey,\r\n  filters\r\n}: {\r\n  collection: string;\r\n  reverse?: boolean;\r\n  sortKey?: string;\r\n  filters?: {\r\n    subcategory?: string;\r\n    minPrice?: string;\r\n    maxPrice?: string;\r\n    keywords?: string;\r\n    location?: string;\r\n  };\r\n}): Promise<Product[]> {\r\n  'use cache';\r\n  cacheTag(TAGS.collections, TAGS.products);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-данные вместо Shopify\r\n    const { getDemoCollectionProducts } = await import('lib/demo/products');\r\n    return getDemoCollectionProducts(collection, filters);\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyCollectionProductsOperation>({\r\n    query: getCollectionProductsQuery,\r\n    variables: {\r\n      handle: collection,\r\n      reverse,\r\n      sortKey: sortKey === 'CREATED_AT' ? 'CREATED' : sortKey\r\n    }\r\n  });\r\n\r\n  if (!res.body.data.collection) {\r\n    console.log(`No collection found for \\`${collection}\\``);\r\n    return [];\r\n  }\r\n\r\n  return reshapeProducts(\r\n    removeEdgesAndNodes(res.body.data.collection.products)\r\n  );\r\n}\r\n\r\nexport async function getCollections(): Promise<Collection[]> {\r\n  'use cache';\r\n  cacheTag(TAGS.collections);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-категории вместо Shopify\r\n    const { DEMO_COLLECTIONS } = await import('lib/demo/categories');\r\n    return [\r\n      {\r\n        handle: '',\r\n        title: 'All Categories',\r\n        description: 'All products',\r\n        seo: {\r\n          title: 'All Categories',\r\n          description: 'All products'\r\n        },\r\n        path: '/search',\r\n        updatedAt: new Date().toISOString()\r\n      },\r\n      ...DEMO_COLLECTIONS\r\n    ];\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyCollectionsOperation>({\r\n    query: getCollectionsQuery\r\n  });\r\n  const shopifyCollections = removeEdgesAndNodes(res.body?.data?.collections);\r\n  const collections = [\r\n    {\r\n      handle: '',\r\n      title: 'All',\r\n      description: 'All products',\r\n      seo: {\r\n        title: 'All',\r\n        description: 'All products'\r\n      },\r\n      path: '/search',\r\n      updatedAt: new Date().toISOString()\r\n    },\r\n    // Filter out the `hidden` collections.\r\n    // Collections that start with `hidden-*` need to be hidden on the search page.\r\n    ...reshapeCollections(shopifyCollections).filter(\r\n      (collection) => !collection.handle.startsWith('hidden')\r\n    )\r\n  ];\r\n\r\n  return collections;\r\n}\r\n\r\nexport async function getMenu(handle: string): Promise<Menu[]> {\r\n  'use cache';\r\n  cacheTag(TAGS.collections);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-меню вместо Shopify\r\n    const { getDemoMenu } = await import('lib/demo/menu');\r\n    return getDemoMenu(handle);\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyMenuOperation>({\r\n    query: getMenuQuery,\r\n    variables: {\r\n      handle\r\n    }\r\n  });\r\n\r\n  return (\r\n    res.body?.data?.menu?.items.map((item: { title: string; url: string }) => ({\r\n      title: item.title,\r\n      path: item.url\r\n        .replace(domain, '')\r\n        .replace('/collections', '/search')\r\n        .replace('/pages', '')\r\n    })) || []\r\n  );\r\n}\r\n\r\nexport async function getPage(handle: string): Promise<Page> {\r\n  const res = await shopifyFetch<ShopifyPageOperation>({\r\n    query: getPageQuery,\r\n    variables: { handle }\r\n  });\r\n\r\n  return res.body.data.pageByHandle;\r\n}\r\n\r\nexport async function getPages(): Promise<Page[]> {\r\n  const res = await shopifyFetch<ShopifyPagesOperation>({\r\n    query: getPagesQuery\r\n  });\r\n\r\n  return removeEdgesAndNodes(res.body.data.pages);\r\n}\r\n\r\nexport async function getProduct(handle: string): Promise<Product | undefined> {\r\n  'use cache';\r\n  cacheTag(TAGS.products);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-данные вместо Shopify\r\n    const { getDemoProduct } = await import('lib/demo/products');\r\n    return getDemoProduct(handle);\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyProductOperation>({\r\n    query: getProductQuery,\r\n    variables: {\r\n      handle\r\n    }\r\n  });\r\n\r\n  return reshapeProduct(res.body.data.product, false);\r\n}\r\n\r\nexport async function getProductRecommendations(\r\n  productId: string\r\n): Promise<Product[]> {\r\n  'use cache';\r\n  cacheTag(TAGS.products);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-данные вместо Shopify\r\n    const { getDemoProductRecommendations } = await import('lib/demo/products');\r\n    return getDemoProductRecommendations(productId);\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyProductRecommendationsOperation>({\r\n    query: getProductRecommendationsQuery,\r\n    variables: {\r\n      productId\r\n    }\r\n  });\r\n\r\n  return reshapeProducts(res.body.data.productRecommendations);\r\n}\r\n\r\nexport async function getProducts({\r\n  query,\r\n  reverse,\r\n  sortKey\r\n}: {\r\n  query?: string;\r\n  reverse?: boolean;\r\n  sortKey?: string;\r\n}): Promise<Product[]> {\r\n  'use cache';\r\n  cacheTag(TAGS.products);\r\n  cacheLife('days');\r\n\r\n  if (!endpoint) {\r\n    // Используем демо-данные вместо Shopify\r\n    const { getDemoProducts } = await import('lib/demo/products');\r\n    let products = getDemoProducts();\r\n    \r\n    // Простая фильтрация по query (если есть)\r\n    if (query) {\r\n      const searchQuery = query.toLowerCase();\r\n      products = products.filter(\r\n        p => p.title.toLowerCase().includes(searchQuery) ||\r\n             p.description.toLowerCase().includes(searchQuery)\r\n      );\r\n    }\r\n    \r\n    return products;\r\n  }\r\n\r\n  const res = await shopifyFetch<ShopifyProductsOperation>({\r\n    query: getProductsQuery,\r\n    variables: {\r\n      query,\r\n      reverse,\r\n      sortKey\r\n    }\r\n  });\r\n\r\n  return reshapeProducts(removeEdgesAndNodes(res.body.data.products));\r\n}\r\n\r\n// This is called from `app/api/revalidate.ts` so providers can control revalidation logic.\r\nexport async function revalidate(req: NextRequest): Promise<NextResponse> {\r\n  // We always need to respond with a 200 status code to Shopify,\r\n  // otherwise it will continue to retry the request.\r\n  const collectionWebhooks = [\r\n    'collections/create',\r\n    'collections/delete',\r\n    'collections/update'\r\n  ];\r\n  const productWebhooks = [\r\n    'products/create',\r\n    'products/delete',\r\n    'products/update'\r\n  ];\r\n  const topic = (await headers()).get('x-shopify-topic') || 'unknown';\r\n  const secret = req.nextUrl.searchParams.get('secret');\r\n  const isCollectionUpdate = collectionWebhooks.includes(topic);\r\n  const isProductUpdate = productWebhooks.includes(topic);\r\n\r\n  if (!secret || secret !== process.env.SHOPIFY_REVALIDATION_SECRET) {\r\n    console.error('Invalid revalidation secret.');\r\n    return NextResponse.json({ status: 401 });\r\n  }\r\n\r\n  if (!isCollectionUpdate && !isProductUpdate) {\r\n    // We don't need to revalidate anything for any other topics.\r\n    return NextResponse.json({ status: 200 });\r\n  }\r\n\r\n  if (isCollectionUpdate) {\r\n    revalidateTag(TAGS.collections, 'seconds');\r\n  }\r\n\r\n  if (isProductUpdate) {\r\n    revalidateTag(TAGS.products, 'seconds');\r\n  }\r\n\r\n  return NextResponse.json({ status: 200, revalidated: true, now: Date.now() });\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/navbar/mobile-menu.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/layout/navbar/mobile-menu.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/mobile-menu.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1301, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/navbar/mobile-menu.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/layout/navbar/mobile-menu.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/mobile-menu.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/navbar/search.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SearchSkeleton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SearchSkeleton() from the server but SearchSkeleton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/search.tsx <module evaluation>\",\n    \"SearchSkeleton\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/layout/navbar/search.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/search.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,iXAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,qEACA;uCAEW,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/navbar/search.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SearchSkeleton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SearchSkeleton() from the server but SearchSkeleton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/search.tsx\",\n    \"SearchSkeleton\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/layout/navbar/search.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/layout/navbar/search.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,iXAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,iDACA;uCAEW,IAAA,iXAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1361, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1369, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/layout/navbar/index.tsx"],"sourcesContent":["import CartModal from 'components/cart/modal';\r\nimport LogoSquare from 'components/logo-square';\r\nimport { getMenu } from 'lib/shopify';\r\nimport { Menu } from 'lib/shopify/types';\r\nimport Link from 'next/link';\r\nimport { Suspense } from 'react';\r\nimport MobileMenu from './mobile-menu';\r\nimport Search, { SearchSkeleton } from './search';\r\n\r\nconst { SITE_NAME } = process.env;\r\n\r\nexport async function Navbar() {\r\n  const menu = await getMenu('next-js-frontend-header-menu');\r\n\r\n  return (\r\n    <nav className=\"relative flex items-center justify-between gap-4 p-4 lg:px-6\">\r\n      <div className=\"block flex-none md:hidden\">\r\n        <Suspense fallback={null}>\r\n          <MobileMenu menu={menu} />\r\n        </Suspense>\r\n      </div>\r\n      <div className=\"flex w-full items-center gap-4\">\r\n        {/* Logo - fixed width on the left */}\r\n        <Link\r\n          href=\"/\"\r\n          prefetch={true}\r\n          className=\"flex shrink-0 items-center\"\r\n        >\r\n          <LogoSquare />\r\n          <div className=\"ml-2 hidden text-sm font-medium uppercase lg:block\">\r\n            {SITE_NAME}\r\n          </div>\r\n        </Link>\r\n        \r\n        {/* Categories - shifted to the right */}\r\n        {menu.length ? (\r\n          <div className=\"hidden flex-1 overflow-x-auto md:block ml-4\">\r\n            <ul className=\"flex gap-4 text-sm md:gap-6 lg:gap-8\">\r\n              {menu.map((item: Menu) => (\r\n                <li key={item.title} className=\"shrink-0\">\r\n                  <Link\r\n                    href={item.path}\r\n                    prefetch={true}\r\n                    className=\"whitespace-nowrap text-neutral-500 underline-offset-4 hover:text-black hover:underline dark:text-neutral-400 dark:hover:text-neutral-300\"\r\n                  >\r\n                    {item.title}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : null}\r\n        \r\n        {/* Search - moved to the right */}\r\n        <div className=\"hidden shrink-0 md:flex md:w-64 lg:w-80\">\r\n          <Suspense fallback={<SearchSkeleton />}>\r\n            <Search />\r\n          </Suspense>\r\n        </div>\r\n        \r\n        {/* Account, Orders and Cart - right side */}\r\n        <div className=\"flex shrink-0 items-center gap-4\">\r\n          <Link\r\n            href=\"/account\"\r\n            prefetch={true}\r\n            className=\"flex items-center justify-center rounded-full p-2 text-neutral-500 hover:bg-neutral-100 hover:text-black dark:hover:bg-neutral-800 dark:hover:text-white\"\r\n            aria-label=\"Account\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth={1.5}\r\n              stroke=\"currentColor\"\r\n              className=\"h-6 w-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z\"\r\n              />\r\n            </svg>\r\n          </Link>\r\n          <Link\r\n            href=\"/orders\"\r\n            prefetch={true}\r\n            className=\"flex items-center justify-center rounded-full p-2 text-neutral-500 hover:bg-neutral-100 hover:text-black dark:hover:bg-neutral-800 dark:hover:text-white\"\r\n            aria-label=\"Orders\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth={1.5}\r\n              stroke=\"currentColor\"\r\n              className=\"h-6 w-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                d=\"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h4.125M8.25 8.25l2.25-2.25m0 0l2.25 2.25m-2.25-2.25v11.25\"\r\n              />\r\n            </svg>\r\n          </Link>\r\n          <CartModal />\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;AAEA,MAAM,EAAE,SAAS,EAAE,GAAG,QAAQ,GAAG;AAE1B,eAAe;IACpB,MAAM,OAAO,MAAM,IAAA,kIAAO,EAAC;IAE3B,qBACE,uVAAC;QAAI,WAAU;;0BACb,uVAAC;gBAAI,WAAU;0BACb,cAAA,uVAAC,0TAAQ;oBAAC,UAAU;8BAClB,cAAA,uVAAC,4JAAU;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAGtB,uVAAC;gBAAI,WAAU;;kCAEb,uVAAC,mSAAI;wBACH,MAAK;wBACL,UAAU;wBACV,WAAU;;0CAEV,uVAAC,wIAAU;;;;;0CACX,uVAAC;gCAAI,WAAU;0CACZ;;;;;;;;;;;;oBAKJ,KAAK,MAAM,iBACV,uVAAC;wBAAI,WAAU;kCACb,cAAA,uVAAC;4BAAG,WAAU;sCACX,KAAK,GAAG,CAAC,CAAC,qBACT,uVAAC;oCAAoB,WAAU;8CAC7B,cAAA,uVAAC,mSAAI;wCACH,MAAM,KAAK,IAAI;wCACf,UAAU;wCACV,WAAU;kDAET,KAAK,KAAK;;;;;;mCANN,KAAK,KAAK;;;;;;;;;;;;;;+BAYvB;kCAGJ,uVAAC;wBAAI,WAAU;kCACb,cAAA,uVAAC,0TAAQ;4BAAC,wBAAU,uVAAC,2JAAc;;;;;sCACjC,cAAA,uVAAC,oJAAM;;;;;;;;;;;;;;;kCAKX,uVAAC;wBAAI,WAAU;;0CACb,uVAAC,mSAAI;gCACH,MAAK;gCACL,UAAU;gCACV,WAAU;gCACV,cAAW;0CAEX,cAAA,uVAAC;oCACC,OAAM;oCACN,MAAK;oCACL,SAAQ;oCACR,aAAa;oCACb,QAAO;oCACP,WAAU;8CAEV,cAAA,uVAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,GAAE;;;;;;;;;;;;;;;;0CAIR,uVAAC,mSAAI;gCACH,MAAK;gCACL,UAAU;gCACV,WAAU;gCACV,cAAW;0CAEX,cAAA,uVAAC;oCACC,OAAM;oCACN,MAAK;oCACL,SAAQ;oCACR,aAAa;oCACb,QAAO;oCACP,WAAU;8CAEV,cAAA,uVAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,GAAE;;;;;;;;;;;;;;;;0CAIR,uVAAC,uIAAS;;;;;;;;;;;;;;;;;;;;;;;AAKpB","debugId":null}},
    {"offset": {"line": 1590, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/welcome-toast.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WelcomeToast = registerClientReference(\n    function() { throw new Error(\"Attempted to call WelcomeToast() from the server but WelcomeToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/welcome-toast.tsx <module evaluation>\",\n    \"WelcomeToast\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,iXAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1604, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/components/welcome-toast.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WelcomeToast = registerClientReference(\n    function() { throw new Error(\"Attempted to call WelcomeToast() from the server but WelcomeToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/welcome-toast.tsx\",\n    \"WelcomeToast\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,iXAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,0CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1618, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1626, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/CursorProjects/Rokets_clsfd/commerce/app/layout.tsx"],"sourcesContent":["import { CartProvider } from 'components/cart/cart-context';\r\nimport { Navbar } from 'components/layout/navbar';\r\nimport { WelcomeToast } from 'components/welcome-toast';\r\nimport { GeistSans } from 'geist/font/sans';\r\nimport { getCart } from 'lib/shopify';\r\nimport { ReactNode } from 'react';\r\nimport { Toaster } from 'sonner';\r\nimport './globals.css';\r\nimport { baseUrl } from 'lib/utils';\r\n\r\nconst { SITE_NAME } = process.env;\r\n\r\nexport const metadata = {\r\n  metadataBase: new URL(baseUrl),\r\n  title: {\r\n    default: SITE_NAME!,\r\n    template: `%s | ${SITE_NAME}`\r\n  },\r\n  robots: {\r\n    follow: true,\r\n    index: true\r\n  }\r\n};\r\n\r\nexport default async function RootLayout({\r\n  children\r\n}: {\r\n  children: ReactNode;\r\n}) {\r\n  // Don't await the fetch, pass the Promise to the context provider\r\n  const cart = getCart();\r\n\r\n  return (\r\n    <html lang=\"en\" className={GeistSans.variable}>\r\n      <body className=\"bg-neutral-50 text-black selection:bg-teal-300 dark:bg-neutral-900 dark:text-white dark:selection:bg-pink-500 dark:selection:text-white\">\r\n        <CartProvider cartPromise={cart}>\r\n          <Navbar />\r\n          <main>\r\n            {children}\r\n            <Toaster closeButton />\r\n            <WelcomeToast />\r\n          </main>\r\n        </CartProvider>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;;;;;;;;;;AAEA,MAAM,EAAE,SAAS,EAAE,GAAG,QAAQ,GAAG;AAE1B,MAAM,WAAW;IACtB,cAAc,IAAI,IAAI,uHAAO;IAC7B,OAAO;QACL,SAAS;QACT,UAAU,CAAC,KAAK,EAAE,WAAW;IAC/B;IACA,QAAQ;QACN,QAAQ;QACR,OAAO;IACT;AACF;AAEe,eAAe,WAAW,EACvC,QAAQ,EAGT;IACC,kEAAkE;IAClE,MAAM,OAAO,IAAA,kIAAO;IAEpB,qBACE,uVAAC;QAAK,MAAK;QAAK,WAAW,uTAAS,CAAC,QAAQ;kBAC3C,cAAA,uVAAC;YAAK,WAAU;sBACd,cAAA,uVAAC,sJAAY;gBAAC,aAAa;;kCACzB,uVAAC,kJAAM;;;;;kCACP,uVAAC;;4BACE;0CACD,uVAAC,mRAAO;gCAAC,WAAW;;;;;;0CACpB,uVAAC,+IAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzB","debugId":null}}]
}