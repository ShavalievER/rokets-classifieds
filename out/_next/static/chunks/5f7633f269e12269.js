(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11826,e=>{"use strict";var t=e.i(47921),r=e.i(73394),a=e.i(20088),l=e.i(68715),s=e.i(99468);function n({item:e}){let n=(0,l.usePathname)(),[i,d]=(0,s.useState)(n===e.path);return(0,s.useEffect)(()=>{d(n===e.path)},[n,e.path]),(0,t.jsx)("li",{children:(0,t.jsx)(a.default,{href:e.path,className:(0,r.default)("inline-block text-sm underline-offset-4 hover:text-black hover:underline dark:hover:text-neutral-300",{"text-black dark:text-neutral-300":i}),children:e.title})})}function i({menu:e}){return e.length?(0,t.jsx)("nav",{children:(0,t.jsx)("ul",{className:"flex flex-wrap items-center gap-4 md:gap-6",children:e.map(e=>(0,t.jsx)(n,{item:e},e.title))})}):null}e.s(["FooterMenuItem",()=>n,"default",()=>i])},81010,e=>{"use strict";var t=e.i(47921),r=e.i(20088),a=e.i(18898),l=e.i(99468),s=e.i(44498),n=e.i(48640),i=e.i(70201);function d({order:e,isOpen:r,onClose:a}){let d=(0,l.useRef)(null),c=(0,l.useRef)(null),o=(0,l.useRef)(!1),u=e.tracking?.route;return((0,l.useEffect)(()=>{if(r&&u&&d.current){if(window.L&&o.current)return void e();if(!document.querySelector('link[href*="leaflet"]')){let e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",e.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",e.crossOrigin="",document.head.appendChild(e)}if(window.L)o.current=!0,e();else{let t=document.createElement("script");t.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",t.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",t.crossOrigin="",t.onload=()=>{o.current=!0,e()},document.body.appendChild(t)}return()=>{c.current&&(c.current.remove(),c.current=null)}}function e(){if(!d.current||!window.L||!u)return;c.current&&(c.current.remove(),c.current=null);let e=window.L,t=(u.pickup.lat+u.delivery.lat)/2,r=(u.pickup.lng+u.delivery.lng)/2,a=e.map(d.current,{zoomControl:!0,scrollWheelZoom:!0}).setView([t,r],12);c.current=a,e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(a);let l=[u.pickup,...u.waypoints||[],u.delivery],s=l.map(e=>[e.lat,e.lng]);if(e.polyline(s,{color:"#3b82f6",weight:4,opacity:.7}).addTo(a),l.forEach((t,r)=>{let s="#3b82f6";0===r?s="#10b981":r===l.length-1&&(s="#ef4444");let n=e.divIcon({className:"custom-marker",html:`<div style="
            background-color: ${s};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
          "></div>`,iconSize:[20,20],iconAnchor:[10,10]});e.marker([t.lat,t.lng],{icon:n}).addTo(a).bindPopup(`<strong>${t.label}</strong>${t.timestamp?`<br><small>${new Date(t.timestamp).toLocaleTimeString()}</small>`:""}`)}),u.currentLocation){let t=e.divIcon({className:"custom-marker courier-marker",html:`<div style="
            background-color: #f59e0b;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.6);
          "></div>`,iconSize:[24,24],iconAnchor:[12,12]});e.marker([u.currentLocation.lat,u.currentLocation.lng],{icon:t}).addTo(a).bindPopup(`<strong>${u.currentLocation.label}</strong><br><small>Live tracking</small>`).openPopup(),e.circle([u.currentLocation.lat,u.currentLocation.lng],{radius:200,color:"#f59e0b",fillColor:"#f59e0b",fillOpacity:.2,weight:2}).addTo(a)}let n=e.latLngBounds(l.map(e=>[e.lat,e.lng]));u.currentLocation&&n.extend([u.currentLocation.lat,u.currentLocation.lng]),a.fitBounds(n,{padding:[50,50]}),setTimeout(()=>{a.invalidateSize()},100)}},[r,u]),u)?(0,t.jsx)(n.Transition,{show:r,as:l.default.Fragment,children:(0,t.jsxs)(s.Dialog,{as:"div",className:"relative z-50",onClose:a,children:[(0,t.jsx)(n.Transition.Child,{as:l.default.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-black/30"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,t.jsx)(n.Transition.Child,{as:l.default.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(s.Dialog.Panel,{className:"relative w-full max-w-4xl transform overflow-hidden rounded-lg bg-white shadow-xl transition-all dark:bg-neutral-900",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-neutral-200 px-6 py-4 dark:border-neutral-700",children:[(0,t.jsxs)(s.Dialog.Title,{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:["Track Order ",e.orderNumber]}),(0,t.jsx)("button",{onClick:a,className:"rounded-full p-1 text-neutral-500 hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-white",children:(0,t.jsx)(i.XMarkIcon,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"relative h-[600px] w-full",children:[(0,t.jsx)("div",{ref:d,className:"h-full w-full"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 z-[1000] rounded-lg bg-white/95 p-3 shadow-lg dark:bg-neutral-800/95",children:(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-green-500 border-2 border-white"}),(0,t.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300",children:"Pickup Location"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-amber-500 border-2 border-white animate-pulse"}),(0,t.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300",children:"Courier (Live)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-blue-500 border-2 border-white"}),(0,t.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300",children:"Waypoint"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full bg-red-500 border-2 border-white"}),(0,t.jsx)("span",{className:"text-neutral-700 dark:text-neutral-300",children:"Delivery Address"})]})]})})]}),(0,t.jsx)("div",{className:"border-t border-neutral-200 px-6 py-4 dark:border-neutral-700",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Tracking ID:"})," ",(0,t.jsx)("span",{className:"font-medium text-neutral-900 dark:text-white",children:e.tracking?.trackingId})]}),u.currentLocation&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Courier Status:"})," ",(0,t.jsx)("span",{className:"font-medium text-green-600 dark:text-green-400",children:"In Transit"})]})]})})]})})})})]})}):null}function c(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3),r=Math.floor(t/60),a=Math.floor(r/60),l=Math.floor(a/24),s=Math.floor(l/7),n=Math.floor(l/30),i=Math.floor(l/365);return t<60?"just now":r<60?`${r} minute${1!==r?"s":""} ago`:a<24?`${a} hour${1!==a?"s":""} ago`:l<7?`${l} day${1!==l?"s":""} ago`:s<4?`${s} week${1!==s?"s":""} ago`:n<12?`${n} month${1!==n?"s":""} ago`:`${i} year${1!==i?"s":""} ago`}let o={pending:"Pending",confirmed:"Confirmed",paid:"Paid",pickup_scheduled:"Pickup Scheduled",picked_up:"Picked Up",in_transit:"In Transit",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"},u={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",paid:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",pickup_scheduled:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",picked_up:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",in_transit:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-400",out_for_delivery:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",delivered:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"};function x({order:e}){let[s,n]=(0,l.useState)(!1),i=new Date(e.createdAt),x="delivered"!==e.status&&"cancelled"!==e.status,m=e.tracking?.estimatedDelivery?new Date(e.tracking.estimatedDelivery):null;return(0,t.jsxs)("div",{className:"rounded-lg border border-neutral-200 bg-white p-6 transition-shadow hover:shadow-lg dark:border-neutral-700 dark:bg-neutral-900",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:["Order ",e.orderNumber]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-neutral-500 dark:text-neutral-400",children:["Placed ",c(i)]})]}),(0,t.jsx)("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${u[e.status]}`,children:o[e.status]})]}),(0,t.jsx)("div",{className:"mb-4 space-y-3",children:e.items.map(l=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[l.productImage&&(0,t.jsx)(r.default,{href:`/product/${l.productHandle}`,children:(0,t.jsx)("div",{className:"relative h-16 w-16 shrink-0 overflow-hidden rounded-lg border border-neutral-200 dark:border-neutral-700",children:(0,t.jsx)(a.default,{src:l.productImage,alt:l.productTitle,fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(r.default,{href:`/product/${l.productHandle}`,className:"font-medium text-neutral-900 hover:text-blue-600 dark:text-white dark:hover:text-blue-400",children:l.productTitle}),(0,t.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["Quantity: ",l.quantity]}),e.seller&&(0,t.jsxs)("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:["Seller: ",e.seller.name," • ",e.seller.location]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-semibold text-neutral-900 dark:text-white",children:[parseFloat(l.totalPrice).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",l.currencyCode]}),parseFloat(l.deliveryPrice)>0&&(0,t.jsxs)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["+ ",parseFloat(l.deliveryPrice).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",l.currencyCode," delivery"]})]})]},l.id))}),x&&m&&(0,t.jsxs)("div",{className:"mb-4 rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:["Estimated Delivery: ",c(m)]}),e.tracking?.currentStatus==="picked_up"&&(0,t.jsx)("p",{className:"mt-1 text-xs text-blue-700 dark:text-blue-400",children:"Courier has picked up your order and is on the way"}),e.tracking?.route&&(0,t.jsxs)("button",{onClick:()=>n(!0),className:"mt-3 flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.513 3.58C15.53 15.494 20.55 12.5 20.55 8.25c0-4.5-4.05-8.25-9-8.25S2.55 3.75 2.55 8.25c0 4.25 5.02 7.244 9.037 8.33m0 0a18.18 18.18 0 003.963-.33m-3.963.33a18.18 18.18 0 01-3.963-.33m0 0c-4.01-1.086-9.037-4.08-9.037-8.33 0-4.5 4.05-8.25 9-8.25s9 3.75 9 8.25c0 4.25-5.027 7.244-9.037 8.33z"})}),"View Live Map"]})]}),e.tracking&&e.tracking.timeline.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300",children:["Tracking: ",e.tracking.trackingId]}),(0,t.jsx)("div",{className:"space-y-2",children:e.tracking.timeline.slice(-3).map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-xs",children:[(0,t.jsx)("div",{className:"mt-1 h-2 w-2 shrink-0 rounded-full bg-blue-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:e.note}),(0,t.jsx)("p",{className:"text-neutral-400 dark:text-neutral-500",children:c(new Date(e.ts))})]})]},r))})]})]}),(0,t.jsx)("div",{className:"lg:w-64 lg:shrink-0",children:(0,t.jsxs)("div",{className:"rounded-lg border border-neutral-200 bg-neutral-50 p-4 dark:border-neutral-700 dark:bg-neutral-800",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Subtotal"}),(0,t.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[parseFloat(e.subtotal).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",e.currencyCode]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Tax"}),(0,t.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[parseFloat(e.tax).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",e.currencyCode]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Delivery"}),(0,t.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[parseFloat(e.delivery).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",e.currencyCode]})]}),(0,t.jsx)("div",{className:"border-t border-neutral-200 pt-2 dark:border-neutral-700",children:(0,t.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,t.jsx)("span",{className:"text-neutral-900 dark:text-white",children:"Total"}),(0,t.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[parseFloat(e.total).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",e.currencyCode]})]})})]}),e.paymentMethod&&(0,t.jsxs)("p",{className:"mt-3 text-xs text-neutral-500 dark:text-neutral-400",children:["Paid with ",e.paymentMethod]})]})})]}),e.tracking?.route&&(0,t.jsx)(d,{order:e,isOpen:s,onClose:()=>n(!1)})]})}function m({orders:e}){return 0===e.length?(0,t.jsx)("div",{className:"rounded-lg border border-neutral-200 bg-white p-12 text-center dark:border-neutral-700 dark:bg-neutral-900",children:(0,t.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"No orders found"})}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsx)(x,{order:e},e.id))})}e.s(["default",()=>m],81010)}]);