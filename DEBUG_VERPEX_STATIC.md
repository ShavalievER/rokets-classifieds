# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Internal Server Error –Ω–∞ demo.rokets.delivery

## ‚úÖ –ß—Ç–æ –º—ã –∑–Ω–∞–µ–º

- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–∏–ª–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ `http://localhost:3000`
- ‚ùå –ù–∞ Verpex –ø–æ–ª—É—á–∞–µ–º Internal Server Error

## üîç –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ß–µ—Ä–µ–∑ Terminal –≤ cPanel:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la ~/public_html/demo/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -la ~/public_html/demo/index.html
ls -la ~/public_html/demo/404.html
ls -la ~/public_html/demo/_next/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–∫–∏ _next
ls -la ~/public_html/demo/_next/
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `index.html`
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–∞–ø–∫–∞ `_next/` —Å –ø–æ–¥–ø–∞–ø–∫–∞–º–∏ `static/` –∏ –¥—Ä—É–≥–∏–º–∏
- –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–æ–±—ã—á–Ω–æ 644 –¥–ª—è —Ñ–∞–π–ª–æ–≤, 755 –¥–ª—è –ø–∞–ø–æ–∫)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
chmod -R 755 ~/public_html/demo
find ~/public_html/demo -type f -exec chmod 644 {} \;
find ~/public_html/demo -type d -exec chmod 755 {} \;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la ~/public_html/demo/ | head -20
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

**–í cPanel:**

1. **cPanel ‚Üí Metrics ‚Üí Errors** (–∏–ª–∏ **Error Log**)
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –¥–ª—è `demo.rokets.delivery`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏

**–ò–ª–∏ —á–µ—Ä–µ–∑ Terminal:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
tail -50 ~/logs/error_log

# –ò–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–∞
tail -50 ~/logs/demo.rokets.delivery.error.log
```

**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `Permission denied` - –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- `File not found` - —Ñ–∞–π–ª—ã –Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- `Directory index forbidden` - –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω–¥–µ–∫—Å–Ω—ã–º —Ñ–∞–π–ª–æ–º
- `AH00124: Request exceeded the limit` - –ø—Ä–æ–±–ª–µ–º–∞ —Å .htaccess

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–¥–æ–º–µ–Ω–∞

**cPanel ‚Üí Subdomains:**

1. –ù–∞–π–¥–∏—Ç–µ –ø–æ–¥–¥–æ–º–µ–Ω `demo`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Document Root** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `public_html/demo` (–∏–ª–∏ `public_html/subdomains/demo`)
3. –ï—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∏–∑–º–µ–Ω–∏—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ .htaccess

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ .htaccess
ls -la ~/public_html/demo/.htaccess

# –ï—Å–ª–∏ –µ—Å—Ç—å, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat ~/public_html/demo/.htaccess
```

**–ï—Å–ª–∏ .htaccess –µ—Å—Ç—å –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã:**

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
mv ~/public_html/demo/.htaccess ~/public_html/demo/.htaccess.bak

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç —Å–Ω–æ–≤–∞
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏
du -sh ~/public_html/demo/

# –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–æ–π out/
# –õ–æ–∫–∞–ª—å–Ω–æ: du -sh out/
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
find ~/public_html/demo -type f | wc -l
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ (—Å–æ—Ç–Ω–∏ –∏–ª–∏ —Ç—ã—Å—è—á–∏)
```

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é:
- `https://demo.rokets.delivery/index.html`
- `https://demo.rokets.delivery/404.html`

–ï—Å–ª–∏ —ç—Ç–∏ —Ñ–∞–π–ª—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è, –Ω–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://demo.rokets.delivery` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
   - **Console** - –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ JavaScript
   - **Network** - –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫–∏
   - **Response** –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ - —á—Ç–æ –≤ –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞

## üîß –†–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Permission denied

**–†–µ—à–µ–Ω–∏–µ:**
```bash
chmod -R 755 ~/public_html/demo
find ~/public_html/demo -type f -exec chmod 644 {} \;
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –§–∞–π–ª—ã –Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
rm -rf ~/public_html/demo/*

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ
cd ~
rm -rf rokets-temp
git clone https://github.com/ShavalievER/rokets-classifieds.git rokets-temp
cp -r ~/rokets-temp/commerce/out/* ~/public_html/demo/
cp -r ~/rokets-temp/commerce/out/.* ~/public_html/demo/ 2>/dev/null || true
rm -rf ~/rokets-temp
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü—Ä–æ–±–ª–µ–º–∞ —Å .htaccess

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `.htaccess`:

```bash
cat > ~/public_html/demo/.htaccess << 'EOF'
# Enable rewrite engine
RewriteEngine On

# Handle Next.js routing (SPA fallback)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /404.html [L]

# Cache static assets
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/svg+xml "access plus 1 year"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
</IfModule>
EOF

chmod 644 ~/public_html/demo/.htaccess
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Document Root

**–†–µ—à–µ–Ω–∏–µ:**
1. **cPanel ‚Üí Subdomains**
2. –ù–∞–π–¥–∏—Ç–µ `demo`
3. –ò–∑–º–µ–Ω–∏—Ç–µ **Document Root** –Ω–∞ `public_html/demo`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏ (NEXT_PUBLIC_BASE_PATH)

**–ï—Å–ª–∏ —Å–æ–±–∏—Ä–∞–ª–∏ —Å `NEXT_PUBLIC_BASE_PATH=/demo`:**
- –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ `public_html/demo/`
- –ù–æ URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `rokets.delivery/demo` (–Ω–µ –ø–æ–¥–¥–æ–º–µ–Ω!)

**–ï—Å–ª–∏ —Å–æ–±–∏—Ä–∞–ª–∏ —Å `NEXT_PUBLIC_BASE_PATH=` (–ø—É—Å—Ç–æ):**
- –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø–æ–¥–¥–æ–º–µ–Ω–∞
- URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `demo.rokets.delivery`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–æ–π basePath –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
# –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π HTML —Ñ–∞–π–ª –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—É—Ç–∏ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
head -50 ~/public_html/demo/index.html | grep -i "base\|path\|_next"
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—É—Ç–∏ —Ç–∏–ø–∞ `/_next/static/...` - —Å–æ–±–∏—Ä–∞–ª–∏ –±–µ–∑ basePath
–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—É—Ç–∏ —Ç–∏–ø–∞ `/demo/_next/static/...` - —Å–æ–±–∏—Ä–∞–ª–∏ —Å basePath=/demo

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏ –æ—Ç–º–µ—Ç—å—Ç–µ:

- [ ] –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ `~/public_html/demo/`
- [ ] –§–∞–π–ª `index.html` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] –ü–∞–ø–∫–∞ `_next/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–µ –ø—É—Å—Ç–∞—è
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (755 –¥–ª—è –ø–∞–ø–æ–∫, 644 –¥–ª—è —Ñ–∞–π–ª–æ–≤)
- [ ] Document Root –ø–æ–¥–¥–æ–º–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ `index.html` —Ä–∞–±–æ—Ç–∞–µ—Ç

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:**
   ```bash
   echo "Test" > ~/public_html/demo/test.txt
   ```
   –û—Ç–∫—Ä–æ–π—Ç–µ `https://demo.rokets.delivery/test.txt` - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ç–µ–∫—Å—Ç "Test"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ File Manager:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **cPanel ‚Üí File Manager**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `public_html/demo/`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –≤–∏–¥–Ω—ã
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å `index.html` —á–µ—Ä–µ–∑ File Manager (View)

3. **–°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Verpex:**
   - –°–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
   - –£–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –ø–æ–º–æ—â–∏

–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ–æ–±—â–∏—Ç–µ:

1. **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –æ—à–∏–±–æ–∫?** (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏)
2. **–ß—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞?** (—Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ —Ç–µ–∫—Å—Ç –æ—à–∏–±–æ–∫)
3. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ `index.html` –Ω–∞–ø—Ä—è–º—É—é?**
4. **–ö–∞–∫–æ–π Document Root —É –ø–æ–¥–¥–æ–º–µ–Ω–∞?**
5. **–°–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ demo?** (`find ~/public_html/demo -type f | wc -l`)










