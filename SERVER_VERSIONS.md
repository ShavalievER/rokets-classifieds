# –í–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üîí server-safe.js (–°—Ç–∞—Ç–∏—á–Ω–∞—è –≤–µ—Ä—Å–∏—è)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –î–û –∑–∞–≥—Ä—É–∑–∫–∏ Next.js.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç Next.js –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ç—Ä–µ–±—É–µ—Ç `ENABLE_NEXT=true`)
- ‚úÖ –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
- ‚úÖ –ù–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—à–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
node server-safe.js
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
- `ENABLE_NEXT=true` - –≤–∫–ª—é—á–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É Next.js (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω–æ)
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3001)
- `NEXT_PUBLIC_BASE_PATH` - –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –¥–ª—è Next.js

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ (Verpex, cPanel)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–∏—Å–∫–∞ –∫—Ä–∞—à–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ö–æ–≥–¥–∞ Next.js handler –≤—ã–∑—ã–≤–∞–µ—Ç Internal Server Error

## üöÄ server.js (–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å Next.js –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç Next.js
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Next.js handler
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∞–π–¥–∞
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ shared hosting —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–∞–º—è—Ç–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
node server.js
# –∏–ª–∏
npm run serve
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3001)
- `NEXT_PUBLIC_BASE_PATH` - –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –¥–ª—è Next.js
- `NODE_ENV` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (production/development)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ü—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞ VPS/–≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ö–æ–≥–¥–∞ –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –ø–∞–º—è—Ç–∏
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | server-safe.js | server.js |
|---------------|----------------|-----------|
| –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ | ‚ö° –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è | ‚ùå –ù–µ—Ç |
| Next.js | ‚öôÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ | ‚úÖ –í—Å–µ–≥–¥–∞ |
| Handler | ‚ùå –û—Ç–∫–ª—é—á–µ–Ω | ‚úÖ –í–∫–ª—é—á–µ–Ω |
| –ü–∞–º—è—Ç—å | üíö –ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ | üî¥ –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ |
| Shared Hosting | ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å |

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏

### –ü–µ—Ä–µ—Ö–æ–¥ —Å server-safe.js –Ω–∞ server.js

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω: `npm run build`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ `.next/`
3. –ó–∞–º–µ–Ω–∏—Ç–µ `server-safe.js` –Ω–∞ `server.js` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü–µ—Ä–µ—Ö–æ–¥ —Å server.js –Ω–∞ server-safe.js

1. –ó–∞–º–µ–Ω–∏—Ç–µ `server.js` –Ω–∞ `server-safe.js` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ - —É–≤–∏–¥–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å Next.js, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `ENABLE_NEXT=true`

## üõ†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π

–û–±–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏ —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
- `server-safe.js` - –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö
- `server.js` - –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∞–π–¥–∞

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ Next.js –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –æ–±–µ–∏–º –≤–µ—Ä—Å–∏—è–º, –Ω–æ –∫–∞–∂–¥–∞—è –≤–µ—Ä—Å–∏—è –∏–º–µ–µ—Ç —Å–≤–æ—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **server-safe.js**: –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∫—Ä–∞—à–∞–º–∏ –Ω–∞ Verpex shared hosting
- **server.js**: –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞











